/*!
* rtvjs 0.0.1
* @license MIT, https://gitlab.com/stefcameron/rtvjs/blob/master/LICENSE.md
* Parts of Lodash used internally: https://github.com/lodash/lodash/
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):function(){var n=e.rtvjs,r=t();e.rtvjs=r,r.noConflict=function(){return e.rtvjs=n,r}}()}(this,function(){"use strict";var e=Array.isArray,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){var n=function(e,n,r){return void 0===r||null===r?e?r:r+"":"string"==typeof r?e?r:'"'+r+'"':"number"==typeof r?e?r:""+r:"boolean"==typeof r?e?r:""+r:"function"==typeof r?"<function>":"symbol"===(void 0===r?"undefined":t(r))?r.toString():r},r=n(!1,0,e);return"string"==typeof r?r:JSON.stringify(r,n.bind(null,!0))},a=function(){function e(t,r){var i=this;n(this,e),t=t||{};var a=Object.keys(t),u=[];if(0===a.length)throw new Error("map must contain at least one key");a.forEach(function(e){if(0===e.indexOf("$"))throw new Error('map key "'+e+'" cannot start with "$"');if(void 0===t[e])throw new Error("map["+e+"] cannot be undefined");var n=t[e];if(u.indexOf(n)>=0)throw new Error("map["+e+"] is a duplicate value: "+o(n));u.push(n),i[e]=n}),Object.defineProperty(this,"$name",{enumerable:!1,configurable:!0,value:r||""}),Object.defineProperty(this,"$values",{enumerable:!1,configurable:!0,get:function(){return u.concat()}})}return r(e,[{key:"check",value:function(e){if(this.$values.indexOf(e)>=0)return e}},{key:"verify",value:function(e,t){var n=this.check(e);if(void 0===n&&!t)throw new Error("Invalid value for "+(this.$name?o(this.$name)+" ":"")+"enumeration ("+this.$values.map(o).join(", ")+"): "+o(e));return n}},{key:"toString",value:function(){var e=this,t=Object.keys(this).map(function(t){return[t,e[t]]});return"{rtvref.Enumeration $name="+o(this.$name)+" pairs=["+t.map(o).join(", ")+"]}"}}]),e}(),u=function(e,t,n){return{value:e,hasArgs:!!t,isObject:!!n}},c={ANY:u("any"),NULL:u("null"),STRING:u("string",!0),BOOLEAN:u("boolean"),SYMBOL:u("symbol"),NUMBER:u("number",!0),FINITE:u("finite",!0),INT:u("int",!0),SAFE_INT:u("safeInt",!0),FLOAT:u("float",!0),FUNCTION:u("function"),REGEXP:u("regexp"),DATE:u("date"),ERROR:u("error"),PROMISE:u("promise"),ARRAY:u("array",!0),ANY_OBJECT:u("anyObject",!0,!0),OBJECT:u("object",!0,!0),PLAIN_OBJECT:u("plainObject",!0,!0),CLASS_OBJECT:u("classObject",!0,!0),HASH_MAP:u("mapObject",!0),MAP:u("map",!0),WEAK_MAP:u("weakMap"),SET:u("set",!0),WEAK_SET:u("weakSet"),JSON:u("json")},f=c.OBJECT.value,l=new a(function(){var e={};return Object.keys(c).forEach(function(t){c[t].isObject&&(e[t]=c[t].value)}),e}(),"objTypes"),p=new a(function(){var e={};return Object.keys(c).forEach(function(t){c[t].hasArgs&&(e[t]=c[t].value)}),e}(),"argTypes"),v=new a(function(){var e={};return Object.keys(c).forEach(function(t){e[t]=c[t].value}),e}(),"types"),s=v.ARRAY;function y(t){return e(t)}var d=function(e){return null!=e&&"object"==typeof e},h="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(e,t){return e(t={exports:{}},t.exports),t.exports}var b="object"==typeof h&&h&&h.Object===Object&&h,m="object"==typeof self&&self&&self.Object===Object&&self,w=b||m||Function("return this")(),E=w.Symbol,j=Object.prototype,O=j.hasOwnProperty,T=j.toString,x=E?E.toStringTag:void 0;var k=function(e){var t=O.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=T.call(e);return r&&(t?e[x]=n:delete e[x]),i},R=Object.prototype.toString;var A=function(e){return R.call(e)},S="[object Null]",I="[object Undefined]",_=E?E.toStringTag:void 0;var N=function(e){return null==e?void 0===e?I:S:_&&_ in Object(e)?k(e):A(e)};var U=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},P="[object AsyncFunction]",D="[object Function]",Q="[object GeneratorFunction]",M="[object Proxy]";var z,C=function(e){if(!U(e))return!1;var t=N(e);return t==D||t==Q||t==P||t==M},F=w["__core-js_shared__"],q=(z=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var B=function(e){return!!q&&q in e},$=Function.prototype.toString;var L=function(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Y=/^\[object .+?Constructor\]$/,J=Function.prototype,W=Object.prototype,G=J.toString,K=W.hasOwnProperty,V=RegExp("^"+G.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var H=function(e){return!(!U(e)||B(e))&&(C(e)?V:Y).test(L(e))};var X=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=X(e,t);return H(n)?n:void 0},ee=Z(w,"DataView"),te=Z(w,"Map"),ne=Z(w,"Promise"),re=Z(w,"Set"),ie=Z(w,"WeakMap"),oe=L(ee),ae=L(te),ue=L(ne),ce=L(re),fe=L(ie),le=N;(ee&&"[object DataView]"!=le(new ee(new ArrayBuffer(1)))||te&&"[object Map]"!=le(new te)||ne&&"[object Promise]"!=le(ne.resolve())||re&&"[object Set]"!=le(new re)||ie&&"[object WeakMap]"!=le(new ie))&&(le=function(e){var t=N(e),n="[object Object]"==t?e.constructor:void 0,r=n?L(n):"";if(r)switch(r){case oe:return"[object DataView]";case ae:return"[object Map]";case ue:return"[object Promise]";case ce:return"[object Set]";case fe:return"[object WeakMap]"}return t});var pe=le,ve="[object Map]";var se=function(e){return d(e)&&pe(e)==ve};var ye=function(e){return function(t){return e(t)}},de=g(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&b.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),he=de&&de.isMap,ge=he?ye(he):se,be=v.MAP;function me(e){return ge(e)}var we="[object WeakMap]";var Ee=function(e){return d(e)&&pe(e)==we},je=v.WEAK_MAP;function Oe(e){return Ee(e)}var Te="[object Set]";var xe=function(e){return d(e)&&pe(e)==Te},ke=de&&de.isSet,Re=ke?ye(ke):xe,Ae=v.SET;function Se(e){return Re(e)}var Ie="[object WeakSet]";var _e=function(e){return d(e)&&N(e)==Ie},Ne=v.WEAK_SET;function Ue(e){return _e(e)}var Pe="[object RegExp]";var De=function(e){return d(e)&&N(e)==Pe},Qe=de&&de.isRegExp,Me=Qe?ye(Qe):De,ze=v.REGEXP;function Ce(e){return Me(e)}var Fe="[object Date]";var qe=function(e){return d(e)&&N(e)==Fe},Be=de&&de.isDate,$e=Be?ye(Be):qe,Le=v.DATE;function Ye(e){return $e(e)}var Je=function(e,t){return function(n){return e(t(n))}},We=Je(Object.getPrototypeOf,Object),Ge="[object Object]",Ke=Function.prototype,Ve=Object.prototype,He=Ke.toString,Xe=Ve.hasOwnProperty,Ze=He.call(Object);var et=function(e){if(!d(e)||N(e)!=Ge)return!1;var t=We(e);if(null===t)return!0;var n=Xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&He.call(n)==Ze},tt="[object DOMException]",nt="[object Error]";var rt=function(e){if(!d(e))return!1;var t=N(e);return t==nt||t==tt||"string"==typeof e.message&&"string"==typeof e.name&&!et(e)},it=v.ERROR;function ot(e){return rt(e)}var at=v.PROMISE;function ut(e){return e instanceof Promise}var ct=v.OBJECT;function ft(e){return d(e)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean)&&!y(e)&&!me(e)&&!Oe(e)&&!Se(e)&&!Ue(e)&&!Ce(e)&&!Ye(e)&&!ot(e)&&!ut(e)}var lt=v.STRING;function pt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowEmpty;return"string"==typeof e&&(""!==e||void 0!==t&&t)}var vt=v.FUNCTION;function st(e){return C(e)}var yt=v.BOOLEAN;function dt(e){return!0===e||!1===e}var ht=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var gt=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++i];if(!1===n(o[c],c,o))break}return t}}();var bt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},mt="[object Arguments]";var wt=function(e){return d(e)&&N(e)==mt},Et=Object.prototype,jt=Et.hasOwnProperty,Ot=Et.propertyIsEnumerable,Tt=wt(function(){return arguments}())?wt:function(e){return d(e)&&jt.call(e,"callee")&&!Ot.call(e,"callee")};var xt=function(){return!1},kt=g(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?w.Buffer:void 0,o=(i?i.isBuffer:void 0)||xt;e.exports=o}),Rt=9007199254740991,At=/^(?:0|[1-9]\d*)$/;var St=function(e,t){var n=typeof e;return!!(t=null==t?Rt:t)&&("number"==n||"symbol"!=n&&At.test(e))&&e>-1&&e%1==0&&e<t},It=9007199254740991;var _t=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=It},Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var Ut=function(e){return d(e)&&_t(e.length)&&!!Nt[N(e)]},Pt=de&&de.isTypedArray,Dt=Pt?ye(Pt):Ut,Qt=Object.prototype.hasOwnProperty;var Mt=function(t,n){var r=e(t),i=!r&&Tt(t),o=!r&&!i&&kt(t),a=!r&&!i&&!o&&Dt(t),u=r||i||o||a,c=u?bt(t.length,String):[],f=c.length;for(var l in t)!n&&!Qt.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||St(l,f))||c.push(l);return c},zt=Object.prototype;var Ct=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||zt)},Ft=Je(Object.keys,Object),qt=Object.prototype.hasOwnProperty;var Bt=function(e){if(!Ct(e))return Ft(e);var t=[];for(var n in Object(e))qt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var $t=function(e){return null!=e&&_t(e.length)&&!C(e)};var Lt=function(e){return $t(e)?Mt(e):Bt(e)};var Yt=function(e,t){return function(n,r){if(null==n)return n;if(!$t(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(function(e,t){return e&&gt(e,t,Lt)});var Jt=function(e){return e};var Wt=function(e){return"function"==typeof e?e:Jt};var Gt=function(t,n){return(e(t)?ht:Yt)(t,Wt(n))};function Kt(e){return ft(e)}function Vt(e){return ft(e)}function Ht(e){return st(e)}var Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"!";return"!"!==t&&("+"===t?null===e:void 0===e||null===e)},Zt=new a({REQUIRED:"!",EXPECTED:"+",OPTIONAL:"?"},"qualifiers"),en=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=!0,u=void 0;return e===v.CLASS_OBJECT&&t.hasOwnProperty("shape")?(a=Kt(t.shape))?u=t.shape:n.failure=r+': Expecting a valid shape descriptor in "shape" property of args for type='+o(e)+" at index="+i:(a=Kt(t))?u=t:n.failure=r+": Expecting a valid shape descriptor for type="+o(e)+(i>=0?" at index="+i:""),u&&Gt(u,function(e,t){var o=Object.assign({},n);return a=nn(e,o),n.failure=o.failure&&r+" ("+(i>=0?"index="+i+", ":"")+'prop="'+t+'"): '+o.failure,a}),a},tn=function(e,t,n,r){var i=Object.assign({},t),o=nn(e,i);return t.failure=i.failure&&n+" (index="+r+"): "+i.failure,o};function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deep:!1,fullyQualified:!1},n=!!t.deep,r=!!t.fullyQualified,i=!(!e||!(Kt(e)||pt(e)&&v.check(e)||Ht(e)||y(e)&&e.length>0));if(i||(t.failure="Value v="+o(e)+" is not a valid type for a typeset: Expecting object (shape), non-empty string (single type), function (custom validator), or array (typeset, non-empty)"),i&&r){var a="Fully-qualified "+(n?"deep":"shallow")+" typeset="+o(e);if(y(e)&&e.length>=2){var u={},c=void 0,s=void 0;Gt(e,function(r,f){return 0===f?(i=pt(r)&&!!Zt.check(r))||(t.failure=a+": Expected a qualifier at index="+f+", found "+o(r)):pt(r)?Zt.check(r)?(i=!1,t.failure=a+": Cannot have more than one qualifier, and qualifier must be in first position, index="+f):v.check(r)?(u[c=r]&&(i=!1,t.failure=a+': Type "'+c+'" may not be included more than once in the typeset (but may appear again in a nested typeset)'),u[c]=!0,s=p.check(r)):(i=!1,t.failure=a+": Expected a valid type in "+v+" at index="+f+", found "+o(r)):Ht(r)?(i=!(!c||f+1!==e.length))||(t.failure=a+": Unexpected custom validator at index="+f+": Must be in the last position, must not be more than 1 in the typeset, must be after the qualifier, and must be preceded by a type"):Vt(r)?(s?s=void 0:(i=!1,t.failure=a+": Expecting a type that takes arguments at index="+(f-1)),i&&n&&l.check(c)?i=en(c,r,t,a,f):i&&n&&c===v.ARRAY&&r.hasOwnProperty("typeset")&&(i=tn(r.typeset,t,a,f))):(i=!1,t.failure=a+": Unexpected value at index="+f+": Expecting object (shape), non-empty string (single type), or function (custom validator)"),i})}else i=!1,t.failure=a+": Typeset cannot be fully-qualified unless it is an Array of minimum length=2"}else if(i&&!r&&y(e)){var d="Non-qualified "+(n?"deep":"shallow")+" typeset="+o(e),h={},g=void 0,b=void 0,m=!1,w=function(e){h[g=e]&&(i=!1,t.failure=d+': Type "'+g+'" may not be included more than once in the typeset (but may appear again in a nested typeset)'),h[g]=!0};Gt(e,function(a,u){if(pt(a))Zt.check(a)?(m=!0,(i=0===u)||(t.failure=d+": Unexpected qualifier at index="+u+": There must be at most one qualifier and it may only be in the first position")):v.check(a)?(w(a),b=p.check(a)):(i=!1,t.failure=d+": Unknown/invalid qualifier/type="+o(a)+" at index="+u);else if(Ht(a))(i=u+1===e.length)&&!g?w(v.ANY):i||(t.failure=d+": Unexpected custom validator at index="+u+": Must be at the last position");else if(Vt(a))b?b=void 0:(w(f),i&&((i=0===u||m&&1===u)||(t.failure=d+": Shape at index="+u+" is missing an object type in "+l+': Only in the first position (or second if a qualifier is specified) does a shape assume the default object type of "'+f+'"'))),i&&n&&l.check(g)?i=en(g,a,t,d,u):i&&n&&g===v.ARRAY&&a.hasOwnProperty("typeset")&&(i=tn(a.typeset,t,d,u));else if(y(a)){if(w(v.ARRAY),b=void 0,i&&n){var c={deep:n,fullyQualified:r};i=nn(a,c),t.failure=c.failure&&d+" (index="+u+"): "+c.failure}}else i=!1,t.failure=d+": Unexpected value at index="+u+": Expecting object (shape), non-empty string (single type), function (custom validator), or array (typeset)";return i}),i&&((i=!!g)||(t.failure=d+": Failed to find a type in the typeset"))}else if(i&&n&&!r&&Kt(e)){var E="Non-qualified deep shape="+o(e);i=en(f,e,t,E)}return i}var rn=function(){function e(){n(this,e),Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!0}})}return r(e,[{key:"toString",value:function(){return"{rtvref.RtvSuccess}"}}]),e}(),on=Error,an=function(e){return e.reduce(function(e,t){return e+("/"===e?"":"/")+t},"/")},un=function(e,t,n,r){if(!nn(t))throw new Error("Invalid typeset: "+o(t));if(!y(n))throw new Error("Invalid path: "+o(n));if(!nn(r,{fullyQualified:!0}))throw new Error("Invalid cause (expecting a fully-qualified typeset): "+o(r));on.call(this),this.message="Verification failed: value="+o(e)+', path="'+an(n)+'", cause='+o(r),this.name="RtvError",Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!1},value:{enumerable:!0,configurable:!0,get:function(){return e}},typeset:{enumerable:!0,configurable:!0,get:function(){return t}},path:{enumerable:!0,configurable:!0,get:function(){return n.concat()}},cause:{enumerable:!0,configurable:!0,get:function(){return r}}})};un.prototype=Object.create(on.prototype),un.prototype.constructor=un,un.prototype.toString=function(){return"{rtvref.RtvError value="+o(this.value)+', path="'+an(this.path)+'", cause='+o(this.cause)+"}"};var cn={},fn=function(e){var t="!";return y(e)&&pt(e[0])&&Zt.check(e[0])&&(t=e[0]),t},ln=function(e,t){if(!nn(e))throw new Error("Invalid typeset="+o(e));if(t&&Zt.verify(t),!y(e))return t=t||"!",Kt(e)?[t,f,e]:Ht(e)?[t,v.ANY,e]:[t,e];var n=[],r=void 0;return e.forEach(function(e,i){if(0===i){if(pt(e)&&Zt.check(e))return void n.push(t||e);n.push(t||"!")}pt(e)?(r=e,n.push(r)):0===i&&Kt(e)?(r=f,n.push(r,e)):Vt(e)?n.push(e):Ht(e)?(r||(r=v.ANY,n.push(r)),n.push(e)):(r=v.ARRAY,n.push(r,{typeset:e}))}),n},pn=function(e,t){if(t&&!dt(t)&&Zt.verify(t),!y(e)||e.length>0&&!nn(e))throw new Error("Invalid Array typeset="+o(e));if(0===e.length)return[];var n=[],r=e.shift();return Zt.check(r)?(!1!==t&&n.push(r),r=e.shift()):t&&!dt(t)&&n.push(t),pt(r)?(n.push(r),p.check(r)&&e.length>0&&Vt(e[0])&&n.push(e.shift())):n.push(r),n},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.path&&!y(e.path))throw new Error("current.path must be an Array when specified, current.path="+o(e.path));if(t.path&&!y(t.path))throw new Error("override.path must be an Array when specified, override.path="+o(t.path));var n={path:t.path||e.path||[],isTypeset:!1,qualifier:t.qualifier||e.qualifier||void 0};return t.hasOwnProperty("isTypeset")?n.isTypeset=!!t.isTypeset:e.hasOwnProperty("isTypeset")&&(n.isTypeset=!!e.isTypeset),n},sn=function(e,t){var n=vn(arguments.length>2?arguments[2]:void 0);if(!n.isTypeset&&!nn(t))throw new Error("Invalid typeset in singleType="+o(t));n.isTypeset=!0;var r=n.qualifier||fn(t),i=void 0,a=void 0;if(pt(t))i=t;else if(Kt(t))i=f,a=t;else{if(!y(t))throw new Error("Specified singleType="+o(t)+" must be a string, shape, or Array");var u=ln(t),c=pn(u,!1);if(u.length>0)throw new Error("Specified singleType="+o(t)+" typeset must represent a single type");i=c[0],a=c.length>1?c[1]:void 0}if(cn[i]){var l=cn[i](e,r,a);return l.valid||(l=new un(e,t,n.path.concat(l.path),l.cause)),l}throw new Error("Missing validator for type="+o(i))},yn=function(e,t){if(!Kt(t))throw new Error("Invalid shape="+o(t));var n=vn(arguments.length>2?arguments[2]:void 0);return sn(e,t,vn(n))},dn=function(e,t){var n=vn(arguments.length>2?arguments[2]:void 0);if(!y(t)||!n.isTypeset&&!nn(t))throw new Error("Invalid Array typeset="+o(t));n.isTypeset=!0;for(var r=void 0,i=n.qualifier||fn(t),a=t.concat(),u=pn(a,!1);u.length>0;){if(1===u.length&&Ht(u[0])){(1===t.length||2===t.length&&Zt.check(t[0]))&&(r=ln(v.ANY,i));break}if(sn(e,u,vn(n,{path:n.path,qualifier:i,isTypeset:!0})).valid){r=ln(u,i);break}u=pn(a)}var c=void 0;if(r){var f=t[t.length-1];Ht(f)&&(f(e,r,t)||(c=new un(e,t,n.path,ln(t,i))))}else c=new un(e,t,n.path,ln(t,i));return c||new rn},hn={_validatorMap:cn,_registerType:function(e){if(!(ft(e)&&v.check(e.type)&&st(e.config)&&st(e.default)))throw new Error("Cannot register an invalid validator for type="+o(e&&e.type)+": missing at least one required property in [type, config, default]");cn[e.type]=e.default},_getCheckOptions:vn,getQualifier:fn,toTypeset:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.filter(function(e){return void 0!==e}),a="!",u=void 0,c=!1,f=!1;if(1===i.length)pt(i[0])?a=i[0]:dt(i[0])?f=i[0]:(c=!0,u=i[0]);else if(2===i.length){if(dt(i[0]))throw new Error("Expecting qualifier or args as the second parameter");if(pt(i[0])?a=i[0]:(c=!0,u=i[0]),dt(i[1]))f=i[1];else{if(u)throw new Error("args parameter already specified");c=!0,u=i[1]}}else i.length>=3&&(a=i[0],c=!0,u=i[1],f=!!i[2]);if(v.verify(e),Zt.verify(a),c&&(p.verify(e),!Vt(u)))throw new Error("Invalid type args="+o(u));var l=void 0;return f?(l=[a,e],u&&l.push(u)):"!"===a?l=u?[e,u]:e:(l=[a,e],u&&l.push(u)),l},fullyQualify:ln,extractNextType:pn,checkWithType:sn,checkWithShape:yn,checkWithArray:dn,check:function(e,t){var n=vn(arguments.length>2?arguments[2]:void 0);try{if(n.isTypeset||nn(t)){if(n.isTypeset=!0,pt(t))return sn(e,t,n);if(Ht(t)){var r=v.ANY,i=ln(r,n.qualifier),a=sn(e,r,n);return a.valid?t(e,i,r)?new rn:new un(e,r,n.path,i):a}if(Kt(t))return yn(e,t,n);if(y(t))return dn(e,t,n);throw new Error("Invalid JavaScript type for typeset="+o(t))}throw new Error("Invalid typeset="+o(t)+" specified")}catch(e){var u=new Error("Cannot check value: "+e.message);throw u.rootCause=e,u}}};Object.keys(hn).forEach(function(e){0===e.indexOf("_")&&Object.defineProperty(hn,e,{enumerable:!1,configurable:!0,writable:!0,value:hn[e]})});var gn=v.ANY;Zt.REQUIRED;var bn=void 0;var mn=Object.freeze({get _impl(){return bn},type:gn,config:function(e){bn=e.impl},default:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],new rn}}),wn=v.ANY_OBJECT;var En=Zt.REQUIRED,jn=void 0;var On=Object.freeze({get _impl(){return jn},type:wn,config:function(e){jn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=arguments[2];if(Xt(e,t))return new rn;if(!function(e){return U(e)}(e))return new un(e,jn.toTypeset(wn,t),[],jn.toTypeset(wn,t,!0));var r=n&&Kt(n)?n:void 0,i=void 0;return Gt(r,function(t,n){var o=jn.check(e[n],t);return o.valid||(i=new un(e,r,[n].concat(o.path),o.cause)),!i}),i||new rn}}),Tn=w.isFinite;var xn=function(e){return"number"==typeof e&&Tn(e)},kn=v.FINITE;function Rn(e){return xn(e)}var An=Zt.REQUIRED,Sn=void 0;var In=Object.freeze({get _impl(){return Sn},type:s,config:function(e){Sn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An,n=arguments[2];if(Xt(e,t))return new rn;var r=y(e),i=void 0;if(r&&n){if(Rn(n.length)&&n.length>=0)r=e.length===n.length;else{var o=void 0;r&&Rn(n.min)&&n.min>=0&&(o=n.min,r=e.length>=o),r&&Rn(n.max)&&n.max>=0&&(void 0===o||n.max>=o)&&(r=e.length<=n.max)}r&&n.typeset&&Gt(e,function(o,a){return i=Sn.check(o,n.typeset),r=i.valid,i.valid||(i=new un(e,Sn.toTypeset(s,t,n),[a].concat(i.path),i.cause)),r})}return i||(i=r?new rn:new un(e,Sn.toTypeset(s,t,n),[],Sn.toTypeset(s,t,n,!0))),i}}),_n=Zt.REQUIRED,Nn=void 0;var Un=Object.freeze({get _impl(){return Nn},type:yt,config:function(e){Nn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;return Xt(e,t)?new rn:dt(e)?new rn:new un(e,Nn.toTypeset(yt,t),[],Nn.toTypeset(yt,t,!0))}}),Pn=v.PLAIN_OBJECT;function Dn(e){return et(e)}var Qn=v.CLASS_OBJECT;var Mn=Zt.REQUIRED,zn=void 0;var Cn=Object.freeze({get _impl(){return zn},type:Qn,config:function(e){zn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn,n=arguments[2];if(Xt(e,t))return new rn;var r=function(e){return ft(e)&&!Dn(e)}(e),i=void 0;if(r&&n&&(n.ctr&&st(n.ctr)&&(r=e instanceof n.ctr),r)){var o=n.shape&&Kt(n.shape)?n.shape:void 0,a=void 0;Gt(o,function(r,i){var o=zn.check(e[i],r);return o.valid||(a=new un(e,zn.toTypeset(Qn,t,n),[i].concat(o.path),o.cause)),!a}),r=!a,i=a}return i||(i=r?new rn:new un(e,zn.toTypeset(Qn,t,n),[],zn.toTypeset(Qn,t,n,!0))),i}}),Fn=Zt.REQUIRED,qn=void 0;var Bn=Object.freeze({get _impl(){return qn},type:Le,config:function(e){qn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn;return Xt(e,t)?new rn:Ye(e)?new rn:new un(e,qn.toTypeset(Le,t),[],qn.toTypeset(Le,t,!0))}}),$n=Zt.REQUIRED,Ln=void 0;var Yn=Object.freeze({get _impl(){return Ln},type:it,config:function(e){Ln=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n;return Xt(e,t)?new rn:ot(e)?new rn:new un(e,Ln.toTypeset(it,t),[],Ln.toTypeset(it,t,!0))}}),Jn=Zt.REQUIRED,Wn=void 0;var Gn=Object.freeze({get _impl(){return Wn},type:kn,config:function(e){Wn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn,n=arguments[2];if(Xt(e,t))return new rn;var r=Rn(e);if(r&&n)if(Rn(n.exact))r=e===n.exact;else{var i=void 0;r&&Rn(n.min)&&(r=e>=(i=n.min)),r&&Rn(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,Wn.toTypeset(kn,t,n),[],Wn.toTypeset(kn,t,n,!0))}}),Kn=Zt.REQUIRED,Vn=void 0;var Hn=Object.freeze({type:vt,config:function(e){Vn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn;return Xt(e,t)?new rn:st(e)?new rn:new un(e,Vn.toTypeset(vt,t),[],Vn.toTypeset(vt,t,!0))}}),Xn=v.HASH_MAP;var Zn=Zt.REQUIRED,er=void 0;var tr=Object.freeze({get _impl(){return er},type:Xn,config:function(e){er=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zn,n=arguments[2];if(Xt(e,t))return new rn;var r=function(e){return ft(e)}(e),i=void 0;if(r&&n){var a=Object.keys(e);if(r&&Rn(n.length)&&n.length>=0&&(r=a.length===n.length),r){var u=n.keyExp&&pt(n.keyExp)?n.keyExp:void 0,c=u&&n.keyFlagSpec&&pt(n.keyFlagSpec)?n.keyFlagSpec:void 0,f=nn(n.values)?n.values:void 0;if(u||f){var l=u?new RegExp(u,c):void 0;Gt(a,function(a){var u=e[a];return l&&((r=l.test(a))||(i=new un(e,er.toTypeset(Xn,t,n),["key="+o(a)],er.toTypeset(Xn,t,n,!0)))),r&&f&&(i=er.check(u,f),r=i.valid,i.valid||(i=new un(e,er.toTypeset(Xn,t,n),["valueKey="+o(a)].concat(i.path),i.cause))),r})}}}return i||(i=r?new rn:new un(e,er.toTypeset(Xn,t,n),[],er.toTypeset(Xn,t,n,!0))),i}}),nr="[object Symbol]";var rr=function(e){return"symbol"==typeof e||d(e)&&N(e)==nr},ir=NaN,or=/^\s+|\s+$/g,ar=/^[-+]0x[0-9a-f]+$/i,ur=/^0b[01]+$/i,cr=/^0o[0-7]+$/i,fr=parseInt;var lr=function(e){if("number"==typeof e)return e;if(rr(e))return ir;if(U(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=U(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(or,"");var n=ur.test(e);return n||cr.test(e)?fr(e.slice(2),n?2:8):ar.test(e)?ir:+e},pr=1/0,vr=1.7976931348623157e308;var sr=function(e){return e?(e=lr(e))===pr||e===-pr?(e<0?-1:1)*vr:e==e?e:0:0===e?e:0};var yr=function(e){var t=sr(e),n=t%1;return t==t?n?t-n:t:0};var dr=function(e){return"number"==typeof e&&e==yr(e)},hr=v.INT;function gr(e){return dr(e)}var br=Zt.REQUIRED,mr=void 0;var wr=Object.freeze({get _impl(){return mr},type:hr,config:function(e){mr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:br,n=arguments[2];if(Xt(e,t))return new rn;var r=gr(e);if(r&&n)if(gr(n.exact))r=e===n.exact;else{var i=void 0;r&&gr(n.min)&&(r=e>=(i=n.min)),r&&gr(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,mr.toTypeset(hr,t,n),[],mr.toTypeset(hr,t,n,!0))}}),Er=Zt.REQUIRED,jr=void 0,Or=function(e){var t=jr.fullyQualify(e);return 2===t.length&&t[1]===v.STRING};var Tr=Object.freeze({get _impl(){return jr},type:be,config:function(e){jr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Er,n=arguments[2];if(Xt(e,t))return new rn;var r=me(e),a=void 0;if(r&&n&&(r&&Rn(n.length)&&n.length>=0&&(r=e.size===n.length),r)){var u=nn(n.keys)?n.keys:void 0,c=!(!u||!Or(u)),f=c&&n.keyExp&&pt(n.keyExp)?n.keyExp:void 0,l=f&&n.keyFlagSpec&&pt(n.keyFlagSpec)?n.keyFlagSpec:void 0,p=nn(n.values)?n.values:void 0;if(u||p){var v=f?new RegExp(f,l):void 0,s=e.entries(),y=!0,d=!1,h=void 0;try{for(var g,b=s[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var m=g.value,w=i(m,2),E=w[0],j=w[1];if(u&&(r=(a=jr.check(E,u)).valid,a.valid||(a=new un(e,jr.toTypeset(be,t,n),["key="+o(E)].concat(a.path),a.cause)),r&&c&&v&&((r=v.test(E))||(a=new un(e,jr.toTypeset(be,t,n),["key="+o(E)],jr.toTypeset(be,t,n,!0))))),r&&p&&(r=(a=jr.check(j,p)).valid,a.valid||(a=new un(e,jr.toTypeset(be,t,n),["valueKey="+o(E)].concat(a.path),a.cause))),!r)break}}catch(e){d=!0,h=e}finally{try{!y&&b.return&&b.return()}finally{if(d)throw h}}}}return a||(a=r?new rn:new un(e,jr.toTypeset(be,t,n),[],jr.toTypeset(be,t,n,!0))),a}}),xr=v.NULL;var kr=Zt.REQUIRED,Rr=void 0;var Ar=Object.freeze({get _impl(){return Rr},type:xr,config:function(e){Rr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr;return Xt(e,t)?new rn:function(e){return null===e}(e)?new rn:new un(e,Rr.toTypeset(xr,t),[],Rr.toTypeset(xr,t,!0))}}),Sr="[object Number]";var Ir=function(e){return"number"==typeof e||d(e)&&N(e)==Sr};var _r=function(e){return Ir(e)&&e!=+e},Nr=v.NUMBER;function Ur(e){return"number"==typeof e&&!_r(e)}var Pr=Zt.REQUIRED,Dr=void 0;var Qr=Object.freeze({get _impl(){return Dr},type:Nr,config:function(e){Dr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr,n=arguments[2];if(Xt(e,t))return new rn;var r=Ur(e);if(t!==Pr&&_r(e)&&(r=!0),r&&n)if(Ur(n.exact)||_r(n.exact))r=e===n.exact||_r(e)&&_r(n.exact);else{var i=void 0;r&&Ur(n.min)&&(r=e>=(i=n.min)),r&&Ur(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,Dr.toTypeset(Nr,t,n),[],Dr.toTypeset(Nr,t,n,!0))}}),Mr=Zt.REQUIRED,zr=void 0;var Cr=Object.freeze({get _impl(){return zr},type:ct,config:function(e){zr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mr,n=arguments[2];if(Xt(e,t))return new rn;if(!ft(e))return new un(e,zr.toTypeset(ct,t),[],zr.toTypeset(ct,t,!0));var r=n&&Kt(n)?n:void 0,i=void 0;return Gt(r,function(t,n){var o=zr.check(e[n],t);return o.valid||(i=new un(e,r,[n].concat(o.path),o.cause)),!i}),i||new rn}}),Fr=Zt.REQUIRED,qr=void 0;var Br=Object.freeze({get _impl(){return qr},type:Pn,config:function(e){qr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr,n=arguments[2];if(Xt(e,t))return new rn;if(!Dn(e))return new un(e,qr.toTypeset(Pn,t),[],qr.toTypeset(Pn,t,!0));var r=n&&Kt(n)?n:void 0,i=void 0;return Gt(r,function(t,n){var o=qr.check(e[n],t);return o.valid||(i=new un(e,r,[n].concat(o.path),o.cause)),!i}),i||new rn}}),$r=Zt.REQUIRED,Lr=void 0;var Yr=Object.freeze({get _impl(){return Lr},type:at,config:function(e){Lr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r;return Xt(e,t)?new rn:ut(e)?new rn:new un(e,Lr.toTypeset(at,t),[],Lr.toTypeset(at,t,!0))}}),Jr=Zt.REQUIRED,Wr=void 0;var Gr=Object.freeze({get _impl(){return Wr},type:ze,config:function(e){Wr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr;return Xt(e,t)?new rn:Ce(e)?new rn:new un(e,Wr.toTypeset(ze,t),[],Wr.toTypeset(ze,t,!0))}}),Kr=9007199254740991;var Vr=function(e){return dr(e)&&e>=-Kr&&e<=Kr},Hr=v.SAFE_INT;function Xr(e){return Vr(e)}var Zr=Zt.REQUIRED,ei=void 0;var ti=Object.freeze({get _impl(){return ei},type:Hr,config:function(e){ei=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr,n=arguments[2];if(Xt(e,t))return new rn;var r=Xr(e);if(r&&n)if(Xr(n.exact))r=e===n.exact;else{var i=void 0;r&&Xr(n.min)&&(r=e>=(i=n.min)),r&&Xr(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,ei.toTypeset(Hr,t,n),[],ei.toTypeset(Hr,t,n,!0))}}),ni=Zt.REQUIRED,ri=void 0;var ii=Object.freeze({get _impl(){return ri},type:Ae,config:function(e){ri=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni,n=arguments[2];if(Xt(e,t))return new rn;var r=Se(e),i=void 0;if(r&&n&&(r&&Rn(n.length)&&n.length>=0&&(r=e.size===n.length),r)){var a=nn(n.values)?n.values:void 0;if(a){var u=e.values(),c=!0,f=!1,l=void 0;try{for(var p,v=u[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var s=p.value;if(r=(i=ri.check(s,a)).valid,i.valid||(i=new un(e,ri.toTypeset(Ae,t,n),[o(s)].concat(i.path),i.cause)),!r)break}}catch(e){f=!0,l=e}finally{try{!c&&v.return&&v.return()}finally{if(f)throw l}}}}return i||(i=r?new rn:new un(e,ri.toTypeset(Ae,t,n),[],ri.toTypeset(Ae,t,n,!0))),i}}),oi=Zt.REQUIRED,ai=void 0;var ui=Object.freeze({get _impl(){return ai},type:lt,config:function(e){ai=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi,n=arguments[2];if(Xt(e,t))return new rn;var r=pt(e)||t!==oi&&""===e;if(r&&n)if(pt(n.exact))r=e===n.exact;else{var i=void 0;r&&Rn(n.min)&&n.min>=0&&(i=n.min,r=e.length>=i),r&&Rn(n.max)&&n.max>=0&&(void 0===i||n.max>=i)&&(r=e.length<=n.max),r&&n.partial&&(r=e.includes(n.partial))}return r?new rn:new un(e,ai.toTypeset(lt,t,n),[],ai.toTypeset(lt,t,n,!0))}}),ci=v.SYMBOL;var fi=Zt.REQUIRED,li=void 0;var pi=Object.freeze({get _impl(){return li},type:ci,config:function(e){li=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi;return Xt(e,t)?new rn:function(e){return rr(e)}(e)?new rn:new un(e,li.toTypeset(ci,t),[],li.toTypeset(ci,t,!0))}}),vi=Zt.REQUIRED,si=void 0;var yi=Object.freeze({get _impl(){return si},type:je,config:function(e){si=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi;return Xt(e,t)?new rn:Oe(e)?new rn:new un(e,si.toTypeset(je,t),[],si.toTypeset(je,t,!0))}}),di=Zt.REQUIRED,hi=void 0;var gi,bi,mi,wi=Object.freeze({get _impl(){return hi},type:Ne,config:function(e){hi=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;return Xt(e,t)?new rn:Ue(e)?new rn:new un(e,hi.toTypeset(Ne,t),[],hi.toTypeset(Ne,t,!0))}}),Ei={t:v,q:Zt,isTypeset:nn,check:function(e,t){return this.config.enabled?hn.check(e,t):new rn},c:function(e,t){return this.check(e,t)},verify:function(e,t){if(this.config.enabled){var n=this.check(e,t);if(n instanceof rn)return n;throw n}return new rn},v:function(e,t){return this.verify(e,t)},config:Object.defineProperties({},{enabled:(gi=!0,{enumerable:!0,configurable:!0,get:function(){return gi},set:function(e){Ei.verify(e,Ei.t.BOOLEAN),gi=e}})}),get e(){return this.config.enabled},Context:function(e){}};return Object.defineProperty(Ei,"_version",{enumerable:!1,configurable:!0,writable:!0,value:"0.0.1"}),bi=[mn,On,In,Un,Cn,Bn,Yn,Gn,Hn,tr,wr,Ar,Tr,Qr,Cr,Br,Yr,Gr,ti,ii,ui,pi,yi,wi],mi={},Object.keys(hn).forEach(function(e){mi[e]=hn[e]}),bi.forEach(function(e){e.config({impl:mi}),hn._registerType(e)}),Ei});
//# sourceMappingURL=rtv.umd.min.js.map
