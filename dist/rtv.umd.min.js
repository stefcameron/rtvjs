/*!
* rtvjs 0.0.1
* @license MIT, https://gitlab.com/stefcameron/rtvjs/blob/master/LICENSE.md
* Parts of Lodash used internally: https://github.com/lodash/lodash/
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):function(){var n=e.rtvjs,r=t();e.rtvjs=r,r.noConflict=function(){return e.rtvjs=n,r}}()}(this,function(){"use strict";var e=Array.isArray,t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e){var n=function(e,n,r){return void 0===r||null===r?e?r:r+"":"string"==typeof r?e?r:'"'+r+'"':"number"==typeof r?e?r:""+r:"boolean"==typeof r?e?r:""+r:"function"==typeof r?"<function>":"symbol"===(void 0===r?"undefined":t(r))?r.toString():r},r=n(!1,0,e);return"string"==typeof r?r:JSON.stringify(r,n.bind(null,!0))},a=function(){function e(t,r){var i=this;n(this,e),t=t||{};var a=Object.keys(t),u=[];if(0===a.length)throw new Error("map must contain at least one key");a.forEach(function(e){if(0===e.indexOf("$"))throw new Error('map key "'+e+'" cannot start with "$"');if(void 0===t[e])throw new Error("map["+e+"] cannot be undefined");var n=t[e];if(u.indexOf(n)>=0)throw new Error("map["+e+"] is a duplicate value: "+o(n));u.push(n),i[e]=n}),Object.defineProperty(this,"$name",{enumerable:!1,configurable:!0,value:r||""}),Object.defineProperty(this,"$values",{enumerable:!1,configurable:!0,get:function(){return u.concat()}})}return r(e,[{key:"check",value:function(e){if(this.$values.indexOf(e)>=0)return e}},{key:"verify",value:function(e,t){var n=this.check(e);if(void 0===n&&!t)throw new Error("Invalid value for "+(this.$name?o(this.$name)+" ":"")+"enumeration ("+this.$values.map(o).join(", ")+"): "+o(e));return n}},{key:"toString",value:function(){var e=this,t=Object.keys(this).map(function(t){return[t,e[t]]});return"{rtvref.Enumeration $name="+o(this.$name)+" pairs=["+t.map(o).join(", ")+"]}"}}]),e}(),u=function(e,t,n){return{value:e,hasArgs:!!t,isObject:!!n}},c={ANY:u("any"),NULL:u("null"),STRING:u("string",!0),BOOLEAN:u("boolean"),SYMBOL:u("symbol"),NUMBER:u("number",!0),FINITE:u("finite",!0),INT:u("int",!0),SAFE_INT:u("safeInt",!0),FLOAT:u("float",!0),FUNCTION:u("function"),REGEXP:u("regexp"),DATE:u("date"),ERROR:u("error"),PROMISE:u("promise"),ARRAY:u("array",!0),ANY_OBJECT:u("anyObject",!0,!0),OBJECT:u("object",!0,!0),PLAIN_OBJECT:u("plainObject",!0,!0),CLASS_OBJECT:u("classObject",!0,!0),HASH_MAP:u("mapObject",!0),MAP:u("map",!0),WEAK_MAP:u("weakMap"),SET:u("set",!0),WEAK_SET:u("weakSet"),JSON:u("json")},f=c.OBJECT.value,l=new a(function(){var e={};return Object.keys(c).forEach(function(t){c[t].isObject&&(e[t]=c[t].value)}),e}(),"objTypes"),p=new a(function(){var e={};return Object.keys(c).forEach(function(t){c[t].hasArgs&&(e[t]=c[t].value)}),e}(),"argTypes"),s=new a(function(){var e={};return Object.keys(c).forEach(function(t){e[t]=c[t].value}),e}(),"types"),v=s.ARRAY;function y(t){return e(t)}var d=function(e){return null!=e&&"object"==typeof e},h="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(e,t){return e(t={exports:{}},t.exports),t.exports}var g="object"==typeof h&&h&&h.Object===Object&&h,m="object"==typeof self&&self&&self.Object===Object&&self,w=g||m||Function("return this")(),E=w.Symbol,j=Object.prototype,O=j.hasOwnProperty,T=j.toString,x=E?E.toStringTag:void 0;var R=function(e){var t=O.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=T.call(e);return r&&(t?e[x]=n:delete e[x]),i},k=Object.prototype.toString;var A=function(e){return k.call(e)},S="[object Null]",I="[object Undefined]",_=E?E.toStringTag:void 0;var N=function(e){return null==e?void 0===e?I:S:_&&_ in Object(e)?R(e):A(e)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},U="[object AsyncFunction]",D="[object Function]",Q="[object GeneratorFunction]",M="[object Proxy]";var q,z=function(e){if(!P(e))return!1;var t=N(e);return t==D||t==Q||t==U||t==M},C=w["__core-js_shared__"],F=(q=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"";var B=function(e){return!!F&&F in e},$=Function.prototype.toString;var Y=function(e){if(null!=e){try{return $.call(e)}catch(e){}try{return e+""}catch(e){}}return""},L=/^\[object .+?Constructor\]$/,W=Function.prototype,J=Object.prototype,G=W.toString,V=J.hasOwnProperty,K=RegExp("^"+G.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(e){return!(!P(e)||B(e))&&(z(e)?K:L).test(Y(e))};var H=function(e,t){return null==e?void 0:e[t]};var Z=function(e,t){var n=H(e,t);return X(n)?n:void 0},ee=Z(w,"DataView"),te=Z(w,"Map"),ne=Z(w,"Promise"),re=Z(w,"Set"),ie=Z(w,"WeakMap"),oe=Y(ee),ae=Y(te),ue=Y(ne),ce=Y(re),fe=Y(ie),le=N;(ee&&"[object DataView]"!=le(new ee(new ArrayBuffer(1)))||te&&"[object Map]"!=le(new te)||ne&&"[object Promise]"!=le(ne.resolve())||re&&"[object Set]"!=le(new re)||ie&&"[object WeakMap]"!=le(new ie))&&(le=function(e){var t=N(e),n="[object Object]"==t?e.constructor:void 0,r=n?Y(n):"";if(r)switch(r){case oe:return"[object DataView]";case ae:return"[object Map]";case ue:return"[object Promise]";case ce:return"[object Set]";case fe:return"[object WeakMap]"}return t});var pe=le,se="[object Map]";var ve=function(e){return d(e)&&pe(e)==se};var ye=function(e){return function(t){return e(t)}},de=b(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&g.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),he=de&&de.isMap,be=he?ye(he):ve,ge=s.MAP;function me(e){return be(e)}var we="[object WeakMap]";var Ee=function(e){return d(e)&&pe(e)==we},je=s.WEAK_MAP;function Oe(e){return Ee(e)}var Te="[object Set]";var xe=function(e){return d(e)&&pe(e)==Te},Re=de&&de.isSet,ke=Re?ye(Re):xe,Ae=s.SET;function Se(e){return ke(e)}var Ie="[object WeakSet]";var _e=function(e){return d(e)&&N(e)==Ie},Ne=s.WEAK_SET;function Pe(e){return _e(e)}var Ue="[object RegExp]";var De=function(e){return d(e)&&N(e)==Ue},Qe=de&&de.isRegExp,Me=Qe?ye(Qe):De,qe=s.REGEXP;function ze(e){return Me(e)}var Ce="[object Date]";var Fe=function(e){return d(e)&&N(e)==Ce},Be=de&&de.isDate,$e=Be?ye(Be):Fe,Ye=s.DATE;function Le(e){return $e(e)}var We=function(e,t){return function(n){return e(t(n))}},Je=We(Object.getPrototypeOf,Object),Ge="[object Object]",Ve=Function.prototype,Ke=Object.prototype,Xe=Ve.toString,He=Ke.hasOwnProperty,Ze=Xe.call(Object);var et=function(e){if(!d(e)||N(e)!=Ge)return!1;var t=Je(e);if(null===t)return!0;var n=He.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Xe.call(n)==Ze},tt="[object DOMException]",nt="[object Error]";var rt=function(e){if(!d(e))return!1;var t=N(e);return t==nt||t==tt||"string"==typeof e.message&&"string"==typeof e.name&&!et(e)},it=s.ERROR;function ot(e){return rt(e)}var at=s.PROMISE;function ut(e){return e instanceof Promise}var ct=s.OBJECT;function ft(e){return d(e)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean)&&!y(e)&&!me(e)&&!Oe(e)&&!Se(e)&&!Pe(e)&&!ze(e)&&!Le(e)&&!ot(e)&&!ut(e)}var lt=s.STRING;function pt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowEmpty;return"string"==typeof e&&(""!==e||void 0!==t&&t)}var st=s.FUNCTION;function vt(e){return z(e)}var yt=s.BOOLEAN;function dt(e){return!0===e||!1===e}var ht=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var bt=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var c=a[e?u:++i];if(!1===n(o[c],c,o))break}return t}}();var gt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},mt="[object Arguments]";var wt=function(e){return d(e)&&N(e)==mt},Et=Object.prototype,jt=Et.hasOwnProperty,Ot=Et.propertyIsEnumerable,Tt=wt(function(){return arguments}())?wt:function(e){return d(e)&&jt.call(e,"callee")&&!Ot.call(e,"callee")};var xt=function(){return!1},Rt=b(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?w.Buffer:void 0,o=(i?i.isBuffer:void 0)||xt;e.exports=o}),kt=9007199254740991,At=/^(?:0|[1-9]\d*)$/;var St=function(e,t){var n=typeof e;return!!(t=null==t?kt:t)&&("number"==n||"symbol"!=n&&At.test(e))&&e>-1&&e%1==0&&e<t},It=9007199254740991;var _t=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=It},Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var Pt=function(e){return d(e)&&_t(e.length)&&!!Nt[N(e)]},Ut=de&&de.isTypedArray,Dt=Ut?ye(Ut):Pt,Qt=Object.prototype.hasOwnProperty;var Mt=function(t,n){var r=e(t),i=!r&&Tt(t),o=!r&&!i&&Rt(t),a=!r&&!i&&!o&&Dt(t),u=r||i||o||a,c=u?gt(t.length,String):[],f=c.length;for(var l in t)!n&&!Qt.call(t,l)||u&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||St(l,f))||c.push(l);return c},qt=Object.prototype;var zt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||qt)},Ct=We(Object.keys,Object),Ft=Object.prototype.hasOwnProperty;var Bt=function(e){if(!zt(e))return Ct(e);var t=[];for(var n in Object(e))Ft.call(e,n)&&"constructor"!=n&&t.push(n);return t};var $t=function(e){return null!=e&&_t(e.length)&&!z(e)};var Yt=function(e){return $t(e)?Mt(e):Bt(e)};var Lt=function(e,t){return function(n,r){if(null==n)return n;if(!$t(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(function(e,t){return e&&bt(e,t,Yt)});var Wt=function(e){return e};var Jt=function(e){return"function"==typeof e?e:Wt};var Gt=function(t,n){return(e(t)?ht:Lt)(t,Jt(n))};function Vt(e){return ft(e)}function Kt(e){return ft(e)}function Xt(e){return vt(e)}var Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"!";return"!"!==t&&("+"===t?null===e:void 0===e||null===e)},Zt=new a({REQUIRED:"!",EXPECTED:"+",OPTIONAL:"?"},"qualifiers"),en=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=!0,u=void 0;return e===s.CLASS_OBJECT&&t.hasOwnProperty("shape")?(a=Vt(t.shape))?u=t.shape:n.failure=r+': Expecting a valid shape descriptor in "shape" property of args for type='+o(e)+" at index="+i:(a=Vt(t))?u=t:n.failure=r+": Expecting a valid shape descriptor for type="+o(e)+(i>=0?" at index="+i:""),u&&Gt(u,function(e,t){var o=Object.assign({},n);return a=nn(e,o),n.failure=o.failure&&r+" ("+(i>=0?"index="+i+", ":"")+'prop="'+t+'"): '+o.failure,a}),a},tn=function(e,t,n,r){var i=Object.assign({},t),o=nn(e,i);return t.failure=i.failure&&n+" (index="+r+"): "+i.failure,o};function nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{deep:!1,fullyQualified:!1},n=!!t.deep,r=!!t.fullyQualified,i=!(!e||!(Vt(e)||pt(e)&&s.check(e)||Xt(e)||y(e)&&e.length>0));if(i||(t.failure="Value v="+o(e)+" is not a valid type for a typeset: Expecting object (shape), non-empty string (single type), function (custom validator), or array (typeset, non-empty)"),i&&r){var a="Fully-qualified "+(n?"deep":"shallow")+" typeset="+o(e);if(y(e)&&e.length>=2){var u={},c=void 0,v=void 0;Gt(e,function(r,f){return 0===f?(i=pt(r)&&!!Zt.check(r))||(t.failure=a+": Expected a qualifier at index="+f+", found "+o(r)):pt(r)?Zt.check(r)?(i=!1,t.failure=a+": Cannot have more than one qualifier, and qualifier must be in first position, index="+f):s.check(r)?(u[c=r]&&(i=!1,t.failure=a+': Type "'+c+'" may not be included more than once in the typeset (but may appear again in a nested typeset)'),u[c]=!0,v=p.check(r)):(i=!1,t.failure=a+": Expected a valid type in "+s+" at index="+f+", found "+o(r)):Xt(r)?(i=!(!c||f+1!==e.length))||(t.failure=a+": Unexpected custom validator at index="+f+": Must be in the last position, must not be more than 1 in the typeset, must be after the qualifier, and must be preceded by a type"):Kt(r)?(v?v=void 0:(i=!1,t.failure=a+": Expecting a type that takes arguments at index="+(f-1)),i&&n&&l.check(c)?i=en(c,r,t,a,f):i&&n&&c===s.ARRAY&&r.hasOwnProperty("typeset")&&(i=tn(r.typeset,t,a,f))):(i=!1,t.failure=a+": Unexpected value at index="+f+": Expecting object (shape), non-empty string (single type), or function (custom validator)"),i})}else i=!1,t.failure=a+": Typeset cannot be fully-qualified unless it is an Array of minimum length=2"}else if(i&&!r&&y(e)){var d="Non-qualified "+(n?"deep":"shallow")+" typeset="+o(e),h={},b=void 0,g=void 0,m=!1,w=function(e){h[b=e]&&(i=!1,t.failure=d+': Type "'+b+'" may not be included more than once in the typeset (but may appear again in a nested typeset)'),h[b]=!0};Gt(e,function(a,u){if(pt(a))Zt.check(a)?(m=!0,(i=0===u)||(t.failure=d+": Unexpected qualifier at index="+u+": There must be at most one qualifier and it may only be in the first position")):s.check(a)?(w(a),g=p.check(a)):(i=!1,t.failure=d+": Unknown/invalid qualifier/type="+o(a)+" at index="+u);else if(Xt(a))(i=u+1===e.length)&&!b?w(s.ANY):i||(t.failure=d+": Unexpected custom validator at index="+u+": Must be at the last position");else if(Kt(a))g?g=void 0:(w(f),i&&((i=0===u||m&&1===u)||(t.failure=d+": Shape at index="+u+" is missing an object type in "+l+': Only in the first position (or second if a qualifier is specified) does a shape assume the default object type of "'+f+'"'))),i&&n&&l.check(b)?i=en(b,a,t,d,u):i&&n&&b===s.ARRAY&&a.hasOwnProperty("typeset")&&(i=tn(a.typeset,t,d,u));else if(y(a)){if(w(s.ARRAY),g=void 0,i&&n){var c={deep:n,fullyQualified:r};i=nn(a,c),t.failure=c.failure&&d+" (index="+u+"): "+c.failure}}else i=!1,t.failure=d+": Unexpected value at index="+u+": Expecting object (shape), non-empty string (single type), function (custom validator), or array (typeset)";return i}),i&&((i=!!b)||(t.failure=d+": Failed to find a type in the typeset"))}else if(i&&n&&!r&&Vt(e)){var E="Non-qualified deep shape="+o(e);i=en(f,e,t,E)}return i}var rn=function(){function e(){n(this,e),Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!0}})}return r(e,[{key:"toString",value:function(){return"{rtvref.RtvSuccess}"}}]),e}(),on=Error,an=function(e){return e.reduce(function(e,t){return e+("/"===e?"":"/")+t},"/")},un=function(e,t,n,r){if(!nn(t))throw new Error("Invalid typeset: "+o(t));if(!y(n))throw new Error("Invalid path: "+o(n));if(!nn(r,{fullyQualified:!0}))throw new Error("Invalid cause (expecting a fully-qualified typeset): "+o(r));on.call(this),this.message="Verification failed: value="+o(e)+', path="'+an(n)+'", cause='+o(r),this.name="RtvError",Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!1},value:{enumerable:!0,configurable:!0,get:function(){return e}},typeset:{enumerable:!0,configurable:!0,get:function(){return t}},path:{enumerable:!0,configurable:!0,get:function(){return n.concat()}},cause:{enumerable:!0,configurable:!0,get:function(){return r}}})};un.prototype=Object.create(on.prototype),un.prototype.constructor=un,un.prototype.toString=function(){return"{rtvref.RtvError value="+o(this.value)+', path="'+an(this.path)+'", cause='+o(this.cause)+"}"};var cn={},fn=function(e){var t="!";return y(e)&&pt(e[0])&&Zt.check(e[0])&&(t=e[0]),t},ln=function(e,t){if(!nn(e))throw new Error("Invalid typeset="+o(e));if(t&&Zt.verify(t),!y(e))return t=t||"!",Vt(e)?[t,f,e]:Xt(e)?[t,s.ANY,e]:[t,e];var n=[],r=void 0;return e.forEach(function(e,i){if(0===i){if(pt(e)&&Zt.check(e))return void n.push(t||e);n.push(t||"!")}pt(e)?(r=e,n.push(r)):0===i&&Vt(e)?(r=f,n.push(r,e)):Kt(e)?n.push(e):Xt(e)?(r||(r=s.ANY,n.push(r)),n.push(e)):(r=s.ARRAY,n.push(r,{typeset:e}))}),n},pn=function(e,t){if(t&&!dt(t)&&Zt.verify(t),!y(e)||e.length>0&&!nn(e))throw new Error("Invalid Array typeset="+o(e));if(0===e.length)return[];var n=[],r=e.shift();return Zt.check(r)?(!1!==t&&n.push(r),r=e.shift()):t&&!dt(t)&&n.push(t),pt(r)?(n.push(r),p.check(r)&&e.length>0&&Kt(e[0])&&n.push(e.shift())):n.push(r),n},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.path&&!y(e.path))throw new Error("current.path must be an Array when specified, current.path="+o(e.path));if(t.path&&!y(t.path))throw new Error("override.path must be an Array when specified, override.path="+o(t.path));var n={path:t.path||e.path||[],isTypeset:!1,qualifier:t.qualifier||e.qualifier||void 0};return t.hasOwnProperty("isTypeset")?n.isTypeset=!!t.isTypeset:e.hasOwnProperty("isTypeset")&&(n.isTypeset=!!e.isTypeset),n},vn=function(e,t){var n=sn(arguments.length>2?arguments[2]:void 0);if(!n.isTypeset&&!nn(t))throw new Error("Invalid typeset in singleType="+o(t));n.isTypeset=!0;var r=n.qualifier||fn(t),i=void 0,a=void 0;if(pt(t))i=t;else if(Vt(t))i=f,a=t;else{if(!y(t))throw new Error("Specified singleType="+o(t)+" must be a string, shape, or Array");var u=ln(t),c=pn(u,!1);if(u.length>0)throw new Error("Specified singleType="+o(t)+" typeset must represent a single type");i=c[0],a=c.length>1?c[1]:void 0}if(cn[i]){var l=cn[i](e,r,a);return l.valid||(l=new un(e,t,n.path.concat(l.path),l.cause)),l}throw new Error("Missing validator for type="+o(i))},yn=function(e,t){if(!Vt(t))throw new Error("Invalid shape="+o(t));var n=sn(arguments.length>2?arguments[2]:void 0);return vn(e,t,sn(n))},dn=function(e,t){var n=sn(arguments.length>2?arguments[2]:void 0);if(!y(t)||!n.isTypeset&&!nn(t))throw new Error("Invalid Array typeset="+o(t));n.isTypeset=!0;for(var r=void 0,i=n.qualifier||fn(t),a=t.concat(),u=pn(a,!1);u.length>0;){if(1===u.length&&Xt(u[0])){(1===t.length||2===t.length&&Zt.check(t[0]))&&(r=ln(s.ANY,i));break}if(vn(e,u,sn(n,{path:n.path,qualifier:i,isTypeset:!0})).valid){r=ln(u,i);break}u=pn(a)}var c=void 0;if(r){var f=t[t.length-1];Xt(f)&&(f(e,r,t)||(c=new un(e,t,n.path,ln(t,i))))}else c=new un(e,t,n.path,ln(t,i));return c||new rn},hn={_validatorMap:cn,_registerType:function(e){if(!(ft(e)&&s.check(e.type)&&vt(e.config)&&vt(e.default)))throw new Error("Cannot register an invalid validator for type="+o(e&&e.type)+": missing at least one required property in [type, config, default]");cn[e.type]=e.default},_getCheckOptions:sn,getQualifier:fn,toTypeset:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.filter(function(e){return void 0!==e}),a="!",u=void 0,c=!1,f=!1;if(1===i.length)pt(i[0])?a=i[0]:dt(i[0])?f=i[0]:(c=!0,u=i[0]);else if(2===i.length){if(dt(i[0]))throw new Error("Expecting qualifier or args as the second parameter");if(pt(i[0])?a=i[0]:(c=!0,u=i[0]),dt(i[1]))f=i[1];else{if(u)throw new Error("args parameter already specified");c=!0,u=i[1]}}else i.length>=3&&(a=i[0],c=!0,u=i[1],f=!!i[2]);if(s.verify(e),Zt.verify(a),c&&(p.verify(e),!Kt(u)))throw new Error("Invalid type args="+o(u));var l=void 0;return f?(l=[a,e],u&&l.push(u)):"!"===a?l=u?[e,u]:e:(l=[a,e],u&&l.push(u)),l},fullyQualify:ln,extractNextType:pn,checkWithType:vn,checkWithShape:yn,checkWithArray:dn,check:function(e,t){var n=sn(arguments.length>2?arguments[2]:void 0);try{if(n.isTypeset||nn(t)){if(n.isTypeset=!0,pt(t))return vn(e,t,n);if(Xt(t)){var r=s.ANY,i=ln(r,n.qualifier),a=vn(e,r,n);return a.valid?t(e,i,r)?new rn:new un(e,r,n.path,i):a}if(Vt(t))return yn(e,t,n);if(y(t))return dn(e,t,n);throw new Error("Invalid JavaScript type for typeset="+o(t))}throw new Error("Invalid typeset="+o(t)+" specified")}catch(e){var u=new Error("Cannot check value: "+e.message);throw u.rootCause=e,u}}};Object.keys(hn).forEach(function(e){0===e.indexOf("_")&&Object.defineProperty(hn,e,{enumerable:!1,configurable:!0,writable:!0,value:hn[e]})});var bn=s.ANY;Zt.REQUIRED;var gn=void 0;var mn=Object.freeze({get _impl(){return gn},type:bn,config:function(e){gn=e.impl},default:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],new rn}}),wn=s.ANY_OBJECT;var En=Zt.REQUIRED,jn=void 0;var On=Object.freeze({get _impl(){return jn},type:wn,config:function(e){jn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=arguments[2];if(Ht(e,t))return new rn;if(!function(e){return P(e)}(e))return new un(e,jn.toTypeset(wn,t),[],jn.toTypeset(wn,t,!0));var r=Vt(n)?n:void 0,i=void 0;return Gt(r,function(t,n){var o=jn.check(e[n],t);return o.valid||(i=new un(e,r,[n].concat(o.path),o.cause)),!i}),i||new rn}}),Tn=w.isFinite;var xn=function(e){return"number"==typeof e&&Tn(e)},Rn=s.FINITE;function kn(e){return xn(e)}var An=Zt.REQUIRED,Sn=void 0;var In=Object.freeze({get _impl(){return Sn},type:v,config:function(e){Sn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An,n=arguments[2];if(Ht(e,t))return new rn;var r=y(e),i=void 0;if(r&&n){if(kn(n.length)&&n.length>=0)r=e.length===n.length;else{var o=void 0;r&&kn(n.min)&&n.min>=0&&(o=n.min,r=e.length>=o),r&&kn(n.max)&&n.max>=0&&(void 0===o||n.max>=o)&&(r=e.length<=n.max)}r&&n.typeset&&Gt(e,function(o,a){return i=Sn.check(o,n.typeset),r=i.valid,i.valid||(i=new un(e,Sn.toTypeset(v,t,n),[a].concat(i.path),i.cause)),r})}return i||(i=r?new rn:new un(e,Sn.toTypeset(v,t,n),[],Sn.toTypeset(v,t,n,!0))),i}}),_n=Zt.REQUIRED,Nn=void 0;var Pn=Object.freeze({get _impl(){return Nn},type:yt,config:function(e){Nn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_n;return Ht(e,t)?new rn:dt(e)?new rn:new un(e,Nn.toTypeset(yt,t),[],Nn.toTypeset(yt,t,!0))}}),Un=Zt.REQUIRED,Dn=void 0;var Qn=Object.freeze({get _impl(){return Dn},type:Ye,config:function(e){Dn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un;return Ht(e,t)?new rn:Le(e)?new rn:new un(e,Dn.toTypeset(Ye,t),[],Dn.toTypeset(Ye,t,!0))}}),Mn=Zt.REQUIRED,qn=void 0;var zn=Object.freeze({get _impl(){return qn},type:it,config:function(e){qn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;return Ht(e,t)?new rn:ot(e)?new rn:new un(e,qn.toTypeset(it,t),[],qn.toTypeset(it,t,!0))}}),Cn=Zt.REQUIRED,Fn=void 0;var Bn=Object.freeze({get _impl(){return Fn},type:Rn,config:function(e){Fn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn,n=arguments[2];if(Ht(e,t))return new rn;var r=kn(e);if(r&&n)if(kn(n.exact))r=e===n.exact;else{var i=void 0;r&&kn(n.min)&&(r=e>=(i=n.min)),r&&kn(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,Fn.toTypeset(Rn,t,n),[],Fn.toTypeset(Rn,t,n,!0))}}),$n=Zt.REQUIRED,Yn=void 0;var Ln=Object.freeze({type:st,config:function(e){Yn=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$n;return Ht(e,t)?new rn:vt(e)?new rn:new un(e,Yn.toTypeset(st,t),[],Yn.toTypeset(st,t,!0))}}),Wn="[object Symbol]";var Jn=function(e){return"symbol"==typeof e||d(e)&&N(e)==Wn},Gn=NaN,Vn=/^\s+|\s+$/g,Kn=/^[-+]0x[0-9a-f]+$/i,Xn=/^0b[01]+$/i,Hn=/^0o[0-7]+$/i,Zn=parseInt;var er=function(e){if("number"==typeof e)return e;if(Jn(e))return Gn;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Vn,"");var n=Xn.test(e);return n||Hn.test(e)?Zn(e.slice(2),n?2:8):Kn.test(e)?Gn:+e},tr=1/0,nr=1.7976931348623157e308;var rr=function(e){return e?(e=er(e))===tr||e===-tr?(e<0?-1:1)*nr:e==e?e:0:0===e?e:0};var ir=function(e){var t=rr(e),n=t%1;return t==t?n?t-n:t:0};var or=function(e){return"number"==typeof e&&e==ir(e)},ar=s.INT;function ur(e){return or(e)}var cr=Zt.REQUIRED,fr=void 0;var lr=Object.freeze({get _impl(){return fr},type:ar,config:function(e){fr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cr,n=arguments[2];if(Ht(e,t))return new rn;var r=ur(e);if(r&&n)if(ur(n.exact))r=e===n.exact;else{var i=void 0;r&&ur(n.min)&&(r=e>=(i=n.min)),r&&ur(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,fr.toTypeset(ar,t,n),[],fr.toTypeset(ar,t,n,!0))}}),pr=Zt.REQUIRED,sr=void 0,vr=function(e){var t=sr.fullyQualify(e);return 2===t.length&&t[1]===s.STRING};var yr=Object.freeze({get _impl(){return sr},type:ge,config:function(e){sr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr,n=arguments[2];if(Ht(e,t))return new rn;var r=me(e),a=void 0;if(r&&n&&(r&&kn(n.length)&&n.length>=0&&(r=e.size===n.length),r)){var u=nn(n.keys)?n.keys:void 0,c=!(!u||!vr(u)),f=c&&n.keyExp&&pt(n.keyExp)?n.keyExp:void 0,l=f&&n.keyFlagSpec&&pt(n.keyFlagSpec)?n.keyFlagSpec:void 0,p=nn(n.values)?n.values:void 0;if(u||p){var s=f?new RegExp(f,l):void 0,v=e.entries(),y=!0,d=!1,h=void 0;try{for(var b,g=v[Symbol.iterator]();!(y=(b=g.next()).done);y=!0){var m=b.value,w=i(m,2),E=w[0],j=w[1];if(u&&(r=(a=sr.check(E,u)).valid,a.valid||(a=new un(e,sr.toTypeset(ge,t,n),["key="+o(E)].concat(a.path),a.cause)),r&&c&&s&&((r=s.test(E))||(a=new un(e,sr.toTypeset(ge,t,n),["key="+o(E)],sr.toTypeset(ge,t,n,!0))))),r&&p&&(r=(a=sr.check(j,p)).valid,a.valid||(a=new un(e,sr.toTypeset(ge,t,n),["valueKey="+o(E)].concat(a.path),a.cause))),!r)break}}catch(e){d=!0,h=e}finally{try{!y&&g.return&&g.return()}finally{if(d)throw h}}}}return a||(a=r?new rn:new un(e,sr.toTypeset(ge,t,n),[],sr.toTypeset(ge,t,n,!0))),a}}),dr=s.NULL;var hr=Zt.REQUIRED,br=void 0;var gr=Object.freeze({get _impl(){return br},type:dr,config:function(e){br=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hr;return Ht(e,t)?new rn:function(e){return null===e}(e)?new rn:new un(e,br.toTypeset(dr,t),[],br.toTypeset(dr,t,!0))}}),mr="[object Number]";var wr=function(e){return"number"==typeof e||d(e)&&N(e)==mr};var Er=function(e){return wr(e)&&e!=+e},jr=s.NUMBER;function Or(e){return"number"==typeof e&&!Er(e)}var Tr=Zt.REQUIRED,xr=void 0;var Rr=Object.freeze({get _impl(){return xr},type:jr,config:function(e){xr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tr,n=arguments[2];if(Ht(e,t))return new rn;var r=Or(e);if(t!==Tr&&Er(e)&&(r=!0),r&&n)if(Or(n.exact)||Er(n.exact))r=e===n.exact||Er(e)&&Er(n.exact);else{var i=void 0;r&&Or(n.min)&&(r=e>=(i=n.min)),r&&Or(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,xr.toTypeset(jr,t,n),[],xr.toTypeset(jr,t,n,!0))}}),kr=Zt.REQUIRED,Ar=void 0;var Sr=Object.freeze({get _impl(){return Ar},type:ct,config:function(e){Ar=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kr,n=arguments[2];if(Ht(e,t))return new rn;if(!ft(e))return new un(e,Ar.toTypeset(ct,t),[],Ar.toTypeset(ct,t,!0));var r=Vt(n)?n:void 0,i=void 0;return Gt(r,function(t,n){var o=Ar.check(e[n],t);return o.valid||(i=new un(e,r,[n].concat(o.path),o.cause)),!i}),i||new rn}}),Ir=Zt.REQUIRED,_r=void 0;var Nr=Object.freeze({get _impl(){return _r},type:at,config:function(e){_r=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ir;return Ht(e,t)?new rn:ut(e)?new rn:new un(e,_r.toTypeset(at,t),[],_r.toTypeset(at,t,!0))}}),Pr=Zt.REQUIRED,Ur=void 0;var Dr=Object.freeze({get _impl(){return Ur},type:qe,config:function(e){Ur=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr;return Ht(e,t)?new rn:ze(e)?new rn:new un(e,Ur.toTypeset(qe,t),[],Ur.toTypeset(qe,t,!0))}}),Qr=9007199254740991;var Mr=function(e){return or(e)&&e>=-Qr&&e<=Qr},qr=s.SAFE_INT;function zr(e){return Mr(e)}var Cr=Zt.REQUIRED,Fr=void 0;var Br=Object.freeze({get _impl(){return Fr},type:qr,config:function(e){Fr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr,n=arguments[2];if(Ht(e,t))return new rn;var r=zr(e);if(r&&n)if(zr(n.exact))r=e===n.exact;else{var i=void 0;r&&zr(n.min)&&(r=e>=(i=n.min)),r&&zr(n.max)&&(void 0===i||n.max>=i)&&(r=e<=n.max)}return r?new rn:new un(e,Fr.toTypeset(qr,t,n),[],Fr.toTypeset(qr,t,n,!0))}}),$r=Zt.REQUIRED,Yr=void 0;var Lr=Object.freeze({get _impl(){return Yr},type:Ae,config:function(e){Yr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$r,n=arguments[2];if(Ht(e,t))return new rn;var r=Se(e),i=void 0;if(r&&n&&(r&&kn(n.length)&&n.length>=0&&(r=e.size===n.length),r)){var a=nn(n.values)?n.values:void 0;if(a){var u=e.values(),c=!0,f=!1,l=void 0;try{for(var p,s=u[Symbol.iterator]();!(c=(p=s.next()).done);c=!0){var v=p.value;if(r=(i=Yr.check(v,a)).valid,i.valid||(i=new un(e,Yr.toTypeset(Ae,t,n),[o(v)].concat(i.path),i.cause)),!r)break}}catch(e){f=!0,l=e}finally{try{!c&&s.return&&s.return()}finally{if(f)throw l}}}}return i||(i=r?new rn:new un(e,Yr.toTypeset(Ae,t,n),[],Yr.toTypeset(Ae,t,n,!0))),i}}),Wr=Zt.REQUIRED,Jr=void 0;var Gr=Object.freeze({get _impl(){return Jr},type:lt,config:function(e){Jr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr,n=arguments[2];if(Ht(e,t))return new rn;var r=pt(e)||t!==Wr&&""===e;if(r&&n)if(pt(n.exact))r=e===n.exact;else{var i=void 0;r&&kn(n.min)&&n.min>=0&&(i=n.min,r=e.length>=i),r&&kn(n.max)&&n.max>=0&&(void 0===i||n.max>=i)&&(r=e.length<=n.max),r&&n.partial&&(r=e.includes(n.partial))}return r?new rn:new un(e,Jr.toTypeset(lt,t,n),[],Jr.toTypeset(lt,t,n,!0))}}),Vr=s.SYMBOL;var Kr=Zt.REQUIRED,Xr=void 0;var Hr=Object.freeze({get _impl(){return Xr},type:Vr,config:function(e){Xr=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kr;return Ht(e,t)?new rn:function(e){return Jn(e)}(e)?new rn:new un(e,Xr.toTypeset(Vr,t),[],Xr.toTypeset(Vr,t,!0))}}),Zr=Zt.REQUIRED,ei=void 0;var ti=Object.freeze({get _impl(){return ei},type:je,config:function(e){ei=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr;return Ht(e,t)?new rn:Oe(e)?new rn:new un(e,ei.toTypeset(je,t),[],ei.toTypeset(je,t,!0))}}),ni=Zt.REQUIRED,ri=void 0;var ii,oi,ai,ui=Object.freeze({get _impl(){return ri},type:Ne,config:function(e){ri=e.impl},default:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni;return Ht(e,t)?new rn:Pe(e)?new rn:new un(e,ri.toTypeset(Ne,t),[],ri.toTypeset(Ne,t,!0))}}),ci={t:s,q:Zt,isTypeset:nn,check:function(e,t){return this.config.enabled?hn.check(e,t):new rn},c:function(e,t){return this.check(e,t)},verify:function(e,t){if(this.config.enabled){var n=this.check(e,t);if(n instanceof rn)return n;throw n}return new rn},v:function(e,t){return this.verify(e,t)},config:Object.defineProperties({},{enabled:(ii=!0,{enumerable:!0,configurable:!0,get:function(){return ii},set:function(e){ci.verify(e,ci.t.BOOLEAN),ii=e}})}),get e(){return this.config.enabled},Context:function(e){}};return Object.defineProperty(ci,"_version",{enumerable:!1,configurable:!0,writable:!0,value:"0.0.1"}),oi=[mn,On,In,Pn,Qn,zn,Bn,Ln,lr,gr,yr,Rr,Sr,Nr,Dr,Br,Lr,Gr,Hr,ti,ui],ai={},Object.keys(hn).forEach(function(e){ai[e]=hn[e]}),oi.forEach(function(e){e.config({impl:ai}),hn._registerType(e)}),ci});
//# sourceMappingURL=rtv.umd.min.js.map
