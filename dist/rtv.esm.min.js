/*!
* rtvjs 0.0.1
* @license MIT, https://gitlab.com/stefcameron/rtvjs/blob/master/LICENSE.md
* Parts of Lodash used internally: https://github.com/lodash/lodash/
*/
var version="0.0.1";function arrayEach(e,t){for(var r=-1,a=null==e?0:e.length;++r<a&&!1!==t(e[r],r,e););return e}var _arrayEach=arrayEach;function createBaseFor(e){return function(t,r,a){for(var i=-1,n=Object(t),o=a(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===r(n[c],c,n))break}return t}}var _createBaseFor=createBaseFor,baseFor=_createBaseFor(),_baseFor=baseFor;function baseTimes(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var _baseTimes=baseTimes,commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),r=e[symToStringTag];try{e[symToStringTag]=void 0;var a=!0}catch(e){}var i=nativeObjectToString.call(e);return a&&(t?e[symToStringTag]=r:delete e[symToStringTag]),i}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&hasOwnProperty$1.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r?_root.Buffer:void 0,n=(i?i.isBuffer:void 0)||stubFalse_1;e.exports=n}),MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,i=a&&a.exports===r&&_freeGlobal.process,n=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=n}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray_1(e),a=!r&&isArguments_1(e),i=!r&&!a&&isBuffer_1(e),n=!r&&!a&&!i&&isTypedArray_1(e),o=r||a||i||n,s=o?_baseTimes(e.length,String):[],c=s.length;for(var u in e)!t&&!hasOwnProperty$2.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||n&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_isIndex(u,c))||s.push(u);return s}var _arrayLikeKeys=arrayLikeKeys,objectProto$4=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$4)}var _isPrototype=isPrototype;function overArg(e,t){return function(r){return e(t(r))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty;function baseKeys(e){if(!_isPrototype(e))return _nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$3.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys;function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike;function keys(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)}var keys_1=keys;function baseForOwn(e,t){return e&&_baseFor(e,t,keys_1)}var _baseForOwn=baseForOwn;function createBaseEach(e,t){return function(r,a){if(null==r)return r;if(!isArrayLike_1(r))return e(r,a);for(var i=r.length,n=t?i:-1,o=Object(r);(t?n--:++n<i)&&!1!==a(o[n],n,o););return r}}var _createBaseEach=createBaseEach,baseEach=_createBaseEach(_baseForOwn),_baseEach=baseEach;function identity(e){return e}var identity_1=identity;function castFunction(e){return"function"==typeof e?e:identity_1}var _castFunction=castFunction;function forEach(e,t){return(isArray_1(e)?_arrayEach:_baseEach)(e,_castFunction(t))}var forEach_1=forEach,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),print=function(e){var t=function(e,t){return"function"==typeof t?"<function>":"symbol"===(void 0===t?"undefined":_typeof(t))?"<<"+t.toString()+">>":t+""},r=t(0,e);return"string"==typeof r?r:JSON.stringify(e,t)},Enumeration=function(){function e(t,r){var a=this;classCallCheck(this,e),t=t||{};var i=Object.keys(t),n=[];if(0===i.length)throw new Error("map must contain at least one key");i.forEach(function(e){if(0===e.indexOf("$"))throw new Error('map key "'+e+'" cannot start with "$"');if(void 0===t[e])throw new Error("map["+e+"] cannot be undefined");var r=t[e];if(n.indexOf(r)>=0)throw new Error("map["+e+"] is a duplicate value: "+print(r));n.push(r),a[e]=r}),Object.defineProperty(this,"$name",{enumerable:!1,configurable:!0,value:r&&print(r)||""}),Object.defineProperty(this,"$values",{enumerable:!1,configurable:!0,get:function(){return n.concat()}})}return createClass(e,[{key:"check",value:function(e){if(this.$values.indexOf(e)>=0)return e}},{key:"verify",value:function(e,t){var r=this.check(e);if(void 0===r&&!t)throw new Error("Invalid value for "+(this.$name?this.$name+" ":"")+"enum["+this.$values.map(print).join(", ")+"]: "+print(e));return r}},{key:"toString",value:function(){var e=this,t=Object.keys(this).map(function(t){return[t,e[t]]});return'{rtvref.Enumeration $name="'+this.$name+'" pairs=['+t.map(function(e){return"["+print(e)+"]"}).join(", ")+"]}"}}]),e}(),def=function(e,t,r){return{value:e,hasArgs:!!t,isObject:!!r}},defs={ANY:def("any"),STRING:def("string",!0),BOOLEAN:def("boolean"),SYMBOL:def("symbol"),NUMBER:def("number",!0),FINITE:def("finite",!0),INT:def("int",!0),FLOAT:def("float",!0),FUNCTION:def("function"),REGEXP:def("regexp"),DATE:def("date"),ERROR:def("error"),PROMISE:def("promise"),ARRAY:def("array",!0),ANY_OBJECT:def("anyObject",!0,!0),OBJECT:def("object",!0,!0),PLAIN_OBJECT:def("plainObject",!0,!0),CLASS_OBJECT:def("classObject",!0,!0),MAP_OBJECT:def("mapObject",!0,!0),MAP:def("map",!0),WEAK_MAP:def("weakMap"),SET:def("set",!0),WEAK_SET:def("weakSet"),JSON:def("json")},DEFAULT_OBJECT_TYPE=defs.OBJECT.value,objTypes=new Enumeration(function(){var e={};return Object.keys(defs).forEach(function(t){defs[t].isObject&&(e[t]=defs[t].value)}),e}(),"objTypes"),argTypes=new Enumeration(function(){var e={};return Object.keys(defs).forEach(function(t){defs[t].hasArgs&&(e[t]=defs[t].value)}),e}(),"argTypes"),types=new Enumeration(function(){var e={};return Object.keys(defs).forEach(function(t){e[t]=defs[t].value}),e}(),"types"),type$1=types.ARRAY;function isArray$1(e){return isArray_1(e)}var coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$6=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$4=objectProto$6.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$4).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var r=_getValue(e,t);return _baseIsNative(r)?r:void 0}var _getNative=getNative,DataView=_getNative(_root,"DataView"),_DataView=DataView,Map=_getNative(_root,"Map"),_Map=Map,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set=_getNative(_root,"Set"),_Set=Set,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$1||_Map&&getTag(new _Map)!=mapTag$1||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$1||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=_baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,a=r?_toSource(r):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag,mapTag$2="[object Map]";function baseIsMap(e){return isObjectLike_1(e)&&_getTag(e)==mapTag$2}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,type$2=types.MAP;function isMap$1(e){return isMap_1(e)}var weakMapTag$2="[object WeakMap]";function isWeakMap(e){return isObjectLike_1(e)&&_getTag(e)==weakMapTag$2}var isWeakMap_1=isWeakMap,type$3=types.WEAK_MAP;function isWeakMap$1(e){return isWeakMap_1(e)}var setTag$2="[object Set]";function baseIsSet(e){return isObjectLike_1(e)&&_getTag(e)==setTag$2}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,type$4=types.SET;function isSet$1(e){return isSet_1(e)}var weakSetTag="[object WeakSet]";function isWeakSet(e){return isObjectLike_1(e)&&_baseGetTag(e)==weakSetTag}var isWeakSet_1=isWeakSet,type$5=types.WEAK_SET;function isWeakSet$1(e){return isWeakSet_1(e)}var regexpTag$1="[object RegExp]";function baseIsRegExp(e){return isObjectLike_1(e)&&_baseGetTag(e)==regexpTag$1}var _baseIsRegExp=baseIsRegExp,nodeIsRegExp=_nodeUtil&&_nodeUtil.isRegExp,isRegExp=nodeIsRegExp?_baseUnary(nodeIsRegExp):_baseIsRegExp,isRegExp_1=isRegExp,type$6=types.REGEXP;function isRegExp$1(e){return isRegExp_1(e)}var type$7=types.OBJECT;function isObject$1(e){return isObjectLike_1(e)&&!isArray$1(e)&&!isMap$1(e)&&!isWeakMap$1(e)&&!isSet$1(e)&&!isWeakSet$1(e)&&!isRegExp$1(e)}var type$8=types.STRING;function isString(e){return"string"==typeof e}var type$9=types.FUNCTION;function isFunction$1(e){return isFunction_1(e)}var type$10=types.BOOLEAN;function isBoolean(e){return!0===e||!1===e}var REQUIRED="!",EXPECTED="+",OPTIONAL="?",DEFAULT_QUALIFIER=REQUIRED,qualifiers$1=new Enumeration({REQUIRED:REQUIRED,EXPECTED:EXPECTED,OPTIONAL:OPTIONAL},"qualifiers");function isTypeset(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.deep,a=void 0!==r&&r,i=t.fullyQualified,n=void 0!==i&&i,o=!(!e||!(isObject$1(e)||isString(e)&&types.check(e)||isFunction$1(e)||isArray$1(e)&&e.length>0));if(o&&n)if(isArray$1(e)&&e.length>=2){var s={},c=void 0,u=void 0;forEach_1(e,function(t,r){if(0===r)o=isString(t)&&!!qualifiers$1.check(t);else if(isString(t))qualifiers$1.check(t)?o=!1:types.check(t)?(s[c=t]&&(o=!1),s[c]=!0,u=argTypes.check(t)):o=!1;else if(isFunction$1(t))o=!(!c||r+1!==e.length);else if(isObject$1(t)){if(u?u=void 0:o=!1,o&&a&&objTypes.check(c)){var i=c===types.CLASS_OBJECT?t.shape:c===types.MAP_OBJECT?void 0:t;i&&forEach_1(i,function(e,t){return o=isTypeset(e,{deep:a,fullyQualified:n})})}}else o=!!isArray$1(t)&&(c===types.ARRAY&&(!a||isTypeset(t,{deep:a,fullyQualified:n})));return o}),o=o&&!!c}else o=!1;else if(o&&!n&&isArray$1(e)){var p={},f=void 0,l=void 0,y=!1,g=function(e){p[f=e]&&(o=!1),p[f]=!0};forEach_1(e,function(t,r){if(isString(t))qualifiers$1.check(t)?(y=!0,o=0===r):types.check(t)?(g(t),l=argTypes.check(t)):o=!1;else if(isFunction$1(t))(o=r+1===e.length)&&!f&&g(types.ANY);else if(isObject$1(t)){if(l?l=void 0:(g(DEFAULT_OBJECT_TYPE),o=o&&(0===r||y&&1===r)),o&&a&&objTypes.check(f)){var i=f===types.CLASS_OBJECT?t.shape:f===types.MAP_OBJECT?void 0:t;i&&forEach_1(i,function(e,t){return o=isTypeset(e,{deep:a,fullyQualified:n})})}}else isArray$1(t)?(f!==types.ARRAY&&(g(types.ARRAY),l=void 0),o&&a&&(o=isTypeset(t,{deep:a,fullyQualified:n}))):o=!1;return o}),o=o&&!!f}else if(o&&a&&!n&&isObject$1(e)){var v=Object.keys(e);forEach_1(v,function(t){return o=isTypeset(e[t],{deep:a,fullyQualified:n})})}return o}function isShape(e){return isObject$1(e)}function isTypeArgs(e){return isObject$1(e)}function isValidator(e){return isFunction$1(e)}var RtvSuccess=function(){function e(){classCallCheck(this,e),Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!0}})}return createClass(e,[{key:"toString",value:function(){return"{rtvref.RtvSuccess}"}}]),e}(),extendsFrom=Error,renderPath=function(e){return e.reduce(function(e,t){return""+e+print(t)},"/")},RtvError=function(e,t,r,a){if(!isTypeset(t))throw new Error("Invalid typeset: "+print(t));if(!isArray$1(r))throw new Error("Invalid path: "+print(r));if(!isTypeset(a,{fullyQualified:!0}))throw new Error("Invalid cause (expecting a fully-qualified typeset): "+print(a));extendsFrom.call(this),this.message="Verification failed: value="+print(e)+', path="'+renderPath(r)+'"',this.name="RtvError",Object.defineProperties(this,{valid:{enumerable:!0,configurable:!0,value:!1},value:{enumerable:!0,configurable:!0,get:function(){return e}},typeset:{enumerable:!0,configurable:!0,get:function(){return t}},path:{enumerable:!0,configurable:!0,get:function(){return r.concat()}},cause:{enumerable:!0,configurable:!0,get:function(){return a}}})};RtvError.prototype=Object.create(extendsFrom.prototype),RtvError.prototype.constructor=RtvError,RtvError.prototype.toString=function(){return"{rtvref.RtvError value="+print(this.value)+', path="'+renderPath(this.path)+'"}'};var _validatorMap={},getQualifier=function(e){if(!isTypeset(e))throw new Error('Invalid typeset="'+print(e)+'"');var t=DEFAULT_QUALIFIER;return isArray$1(e)&&isString(e[0])&&qualifiers$1.check(e[0])&&(t=e[0]),t},fullyQualify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DEFAULT_QUALIFIER;if(!isTypeset(e))throw new Error('Invalid typeset="'+print(e)+'"');if(qualifiers$1.verify(t),!isArray$1(e))return isShape(e)?[t,DEFAULT_OBJECT_TYPE,e]:isValidator(e)?[t,types.ANY,e]:[t,e];var r=[],a=void 0;return e.forEach(function(e,t){0!==t||isString(e)&&qualifiers$1.check(e)||r.push(DEFAULT_QUALIFIER),isString(e)?(a=e,r.push(a)):0===t&&isShape(e)?(a=DEFAULT_OBJECT_TYPE,r.push(a,e)):isTypeArgs(e)?r.push(e):isValidator(e)?(a||(a=types.ANY,r.push(a)),r.push(e)):(a!==types.ARRAY&&(a=types.ARRAY,r.push(a)),r.push(e))}),r},_getCheckOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.path&&!isArray$1(e.path))throw new Error("current.path must be an Array when specified, current.path="+print(e.path));if(t.path&&!isArray$1(t.path))throw new Error("override.path must be an Array when specified, override.path="+print(t.path));return{path:t.path||e.path||[],isTypeset:!!t.isTypeset||!!e.isTypeset||!1,qualifier:t.qualifier||e.qualifier||void 0}},extractNextType=function(e,t){if(t&&!isBoolean(t)&&qualifiers$1.verify(t),!isArray$1(e)||e.length>0&&!isTypeset(e))throw new Error("Invalid array typeset="+print(e));if(0===e.length)return[];var r=[],a=e.shift();return qualifiers$1.check(a)?(!1!==t&&r.push(a),a=e.shift()):t&&!isBoolean(t)&&r.push(t),isString(a)?(r.push(a),argTypes.check(a)&&e.length>0&&isTypeArgs(e[0])&&r.push(e.shift()),a===types.ARRAY&&e.length>0&&isArray$1(e[0])&&r.push(e.shift())):r.push(a),r},checkWithType=function(e,t){var r=_getCheckOptions(arguments.length>2?arguments[2]:void 0),a=r.qualifier||getQualifier(t),i=void 0,n=void 0,o=void 0;if(isString(t))i=[n=types.verify(t)];else{if(!isArray$1(t))throw new Error("Specified singleType="+print(t)+" must be a string or an array");var s=t.concat();if(i=extractNextType(s,!1),s.length>0)throw new Error("Specified singleType="+print(t)+" typeset must represent a single type");n=i[0],o=i.length>1?i[1]:void 0}if(_validatorMap[n]){var c=_validatorMap[n](e,a,o);return c.valid||(c=new RtvError(c.value,c.type,r.path.concat(c.path),c.cause)),c}throw new Error('Missing validator for type="'+print(n)+'"')},checkWithShape=function(e,t){if(!isShape(t))throw new Error("Invalid shape="+print(t));var r=_getCheckOptions(arguments.length>2?arguments[2]:void 0),a=DEFAULT_OBJECT_TYPE;if(!checkWithType(e,a))return new RtvError(e,a,r.path,fullyQualify(a,r.qualifier));var i=void 0;return forEach_1(t,function(t,a){var n=getQualifier(t);if(void 0===e[a]&&n!==qualifiers$1.OPTIONAL||null===e[a]&&n===qualifiers$1.REQUIRED)return i=new RtvError(e,t,r.path.concat(a),fullyQualify(t,n)),!1;var o=check(e[a],t,_getCheckOptions(r,{path:r.path.concat(a),qualifier:n,isTypeset:!1}));return o.valid?void 0:(i=o,!1)}),i||new RtvSuccess},checkWithArray=function(e,t){var r=_getCheckOptions(arguments.length>2?arguments[2]:void 0);if(!isArray$1(t)||!r.isTypeset&&!isTypeset(t))throw new Error("Invalid array typeset="+print(t));var a=void 0,i=getQualifier(t),n=t.concat(),o=extractNextType(n,!1);console.log("===== entering while, typesetCopy=%s, idx=%s, subtype=%s",print(n),-1,print(o));for(var s=-1;o.length>0;){if(++s>4){console.log("===== FORCE-BREAK on count>4, typesetCopy=%s, idx=%s, subtype=%s",print(n),-1,print(o));break}if(console.log("===== starting while, typesetCopy=%s, idx=%s, subtype=%s",print(n),-1,print(o)),1===o.length&&isValidator(o[0])){console.log("===== is validator, typesetCopy=%s, idx=%s, subtype=%s",print(n),-1,print(o)),(1===t.length||2===t.length&&qualifiers$1.check(t[0]))&&(a=fullyQualify(types.ANY));break}if(isArray$1(o[0])||o[0]===types.ARRAY);else{console.log("===== calling check, typesetCopy=%s, idx=%s, subtype=%s, value=%s",print(n),-1,print(o),print(e));var c=check(e,o,_getCheckOptions(r,{qualifier:i,isTypeset:!1}));if(console.log("===== check result=%s, typesetCopy=%s, idx=%s, subtype=%s, value=%s",print(c),print(n),-1,print(o),print(e)),c.valid){a=fullyQualify(type,i),console.log("===== exiting loop on break, match=%s, typesetCopy=%s, idx=%s, subtype=%s, value=%s",print(a),print(n),-1,print(o),print(e));break}}o=extractNextType(n),console.log("===== looping, typesetCopy=%s, idx=%s, subtype=%s",print(n),-1,print(o))}var u=void 0;if(a){var p=t[t.length-1];isValidator(p)&&(p(e,a,t)||(u=new RtvError(e,t,r.path,fullyQualify(t,i))))}else u=new RtvError(e,t,r.path,fullyQualify(t,i));return u||new RtvSuccess},check=function(e,t){var r=_getCheckOptions(arguments.length>2?arguments[2]:void 0);try{if(isTypeset(t)){if(r.isTypeset=!0,isString(t))return checkWithType(e,t,r);if(isValidator(t)){var a=types.ANY,i=fullyQualify(a),n=checkWithType(e,a,r);return n.valid?t(e,i,a)?new RtvSuccess:new RtvError(e,a,r.path,i):n}if(isShape(t))return checkWithShape(e,t,r);if(isArray$1(t))return checkWithArray(e,t,r);throw new Error("Missing handler for type of specified typeset="+print(t))}throw new Error("Invalid typeset="+print(t)+" specified")}catch(e){var o=new Error("Cannot check value: "+e.message);throw o.rootCause=e,o}},_registerType=function(e){if(!(isObject$1(e)&&types.check(e.type)&&isFunction$1(e.config)&&isFunction$1(e.default)))throw new Error('Cannot register an invalid validator for type="'+print(e&&e.type)+'": missing at least one required property in [type, config, default]');_validatorMap[e.type]=e.default},impl={_validatorMap:_validatorMap,_registerType:_registerType,_getCheckOptions:_getCheckOptions,fullyQualify:fullyQualify,extractNextType:extractNextType,checkWithType:checkWithType,checkWithShape:checkWithShape,checkWithArray:checkWithArray,check:check};Object.keys(impl).forEach(function(e){0===e.indexOf("_")&&Object.defineProperty(impl,e,{enumerable:!1,configurable:!0,writable:!0,value:impl[e]})});var type$15=types.ANY;function isAny(e){return!0}var config=function(e){};function valAny(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isAny(e)?new RtvSuccess:new RtvError(e,type$15,[],[t,type$15])}var valAny$1=Object.freeze({type:type$15,config:config,default:valAny}),config$1=function(e){};function valBoolean(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isBoolean(e)?new RtvSuccess:new RtvError(e,type$10,[],[t,type$10])}var valBoolean$1=Object.freeze({type:type$10,config:config$1,default:valBoolean}),nativeIsFinite=_root.isFinite;function isFinite(e){return"number"==typeof e&&nativeIsFinite(e)}var _isFinite=isFinite,type$16=types.FINITE;function isFinite$1(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers.REQUIRED;return _isFinite(e)}var config$2=function(e){};function valString(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isString(e);if(a&&(t===qualifiers$1.REQUIRED&&(a=!!e),a&&r))if(isString(r.exact))a=e===r.exact;else{var i=void 0;a&&isFinite$1(r.min)&&r.min>=0&&(i=r.min,a=e.length>=i),a&&isFinite$1(r.max)&&r.max>=0&&(void 0===i||r.max>=i)&&(a=e.length<=r.max),a&&r.partial&&(a=e.includes(r.partial))}if(a)return new RtvSuccess;var n=[t,type$8];return new RtvError(e,type$8,[],r?n.concat(r):n)}var valString$1=Object.freeze({type:type$8,config:config$2,default:valString}),config$3=function(e){};function valFunction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRE;return isFunction$1(e)?new RtvSuccess:new RtvError(e,type$9,[],[t,type$9])}var valFunction$1=Object.freeze({type:type$9,config:config$3,default:valFunction}),config$4=function(e){};function valRegExp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isRegExp$1(e)?new RtvSuccess:new RtvError(e,type$6,[],[t,type$6])}var valRegExp$1=Object.freeze({type:type$6,config:config$4,default:valRegExp}),symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,type$17=types.SYMBOL;function isSymbol$1(e){return isSymbol_1(e)}var config$5=function(e){};function valSymbol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isSymbol$1(e)?new RtvSuccess:new RtvError(e,type$17,[],[t,type$17])}var valSymbol$1=Object.freeze({type:type$17,config:config$5,default:valSymbol}),config$6=function(e){};function valFinite(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isFinite$1(e);if(a&&r)if(isFinite$1(r.exact))a=e===r.exact;else{var i=void 0;a&&isFinite$1(r.min)&&(a=e>=(i=r.min)),a&&isFinite$1(r.max)&&(void 0===i||r.max>=i)&&(a=e<=r.max)}if(a)return new RtvSuccess;var n=[t,type$16];return new RtvError(e,type$16,[],r?n.concat(r):n)}var valFinite$1=Object.freeze({type:type$16,config:config$6,default:valFinite}),numberTag$1="[object Number]";function isNumber(e){return"number"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==numberTag$1}var isNumber_1=isNumber;function isNaN(e){return isNumber_1(e)&&e!=+e}var _isNaN=isNaN,type$18=types.NUMBER;function isNumber$1(e){return isNumber_1(e)&&!_isNaN(e)}var config$7=function(e){};function valNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isNumber$1(e);if(t!==qualifiers$1.REQUIRED&&_isNaN(e)&&(a=!0),a&&r)if(isNumber$1(r.exact)||_isNaN(r.exact))a=e===r.exact||_isNaN(e)&&_isNaN(r.exact);else{var i=void 0;a&&isNumber$1(r.min)&&(a=e>=(i=r.min)),a&&isNumber$1(r.max)&&(void 0===i||r.max>=i)&&(a=e<=r.max)}if(a)return new RtvSuccess;var n=[t,type$18];return new RtvError(e,type$18,[],r?n.concat(r):n)}var valNumber$1=Object.freeze({type:type$18,config:config$7,default:valNumber}),impl$1=void 0,config$8=function(e){impl$1=e.impl};function valArray(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isArray$1(e),i=void 0;if(a&&r){if(isFinite$1(r.length)&&r.length>=0)a=e.length===r.length;else{var n=void 0;a&&isFinite$1(r.min)&&r.min>=0&&(n=r.min,a=e.length>=n),a&&isFinite$1(r.max)&&r.max>=0&&(void 0===n||r.max>=n)&&(a=e.length<=r.max)}a&&r.typeset&&forEach_1(value,function(e,t){return i=impl$1.check(e,r.typeset),a=i.valid,i.valid||(i=new RtvError(i.value,i.typeset,i.path.concat(t),i.cause)),a})}if(!i)if(a)i=new RtvSuccess;else{var o=[t,type$1];i=new RtvError(e,type$1,[],r?o.concat(r):o)}return i}var valArray$1=Object.freeze({type:type$1,config:config$8,default:valArray}),type$19=types.ANY_OBJECT;function isAnyObject(e){return isObject_1(e)}var config$9=function(e){};function valAnyObject(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isAnyObject(e)?new RtvSuccess:new RtvError(e,type$19,[],[t,type$19])}var valAnyObject$1=Object.freeze({type:type$19,config:config$9,default:valAnyObject}),config$10=function(e){};function valObject(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isObject$1(e)?new RtvSuccess:new RtvError(e,type$7,[],[t,type$7])}var valObject$1=Object.freeze({type:type$7,config:config$10,default:valObject}),impl$2=void 0,config$11=function(e){impl$2=e.impl},isStringTypeset=function(e){var t=impl$2.fullyQualify(e);return 2===t.length&&t[1]===types.STRING};function valMap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isMap$1(e),i=void 0;if(a&&r&&(a&&isFinite$1(r.length)&&r.length>=0&&(a=e.size===r.length),a)){var n=isTypeset(r.keys)?r.keys:void 0,o=!(!n||!isStringTypeset(n)),s=o&&r.keyExp&&isString(r.keyExp)?r.keyExp:void 0,c=s&&r.keyFlagSpec&&isString(r.keyFlagSpec)?r.keyFlagSpec:void 0,u=isTypeset(r.values)?r.values:void 0;if(n||u){var p=s?new RegExp(s,c):void 0,f=e.entries(),l=!0,y=!1,g=void 0;try{for(var v,b=f[Symbol.iterator]();!(l=(v=b.next()).done);l=!0){var d=v.value,h=slicedToArray(d,2),T=h[0],$=h[1];if(n&&(a=(i=impl$2.check(T,n)).valid,i.valid||(i=new RtvError(i.value,i.typeset,i.path.concat(print(T)),i.cause)),a&&o&&p&&!(a=p.test(T)))){var _=[t,type$2];i=new RtvError(e,type$2,[print(T)],r?_.concat(r):_)}if(a&&u&&(a=(i=impl$2.check($,u)).valid,i.valid||(i=new RtvError(i.value,i.typeset,i.path.concat(print(T)),i.cause))),!a)break}}catch(e){y=!0,g=e}finally{try{!l&&b.return&&b.return()}finally{if(y)throw g}}}}if(!i)if(a)i=new RtvSuccess;else{var E=[t,type$2];i=new RtvError(e,type$2,[],r?E.concat(r):E)}return i}var valMap$1=Object.freeze({type:type$2,config:config$11,default:valMap}),config$12=function(e){};function valWeakMap(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isWeakMap$1(e)?new RtvSuccess:new RtvError(e,type$3,[],[t,type$3])}var valWeakMap$1=Object.freeze({type:type$3,config:config$12,default:valWeakMap}),impl$3=void 0,config$13=function(e){impl$3=e.impl};function valSet(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED,r=arguments[2],a=isSet$1(e),i=void 0;if(a&&r&&(a&&isFinite$1(r.length)&&r.length>=0&&(a=e.size===r.length),a)){var n=isTypeset(r.values)?r.values:void 0;if(n){var o=e.entries(),s=!0,c=!1,u=void 0;try{for(var p,f=o[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var l=p.value.value[1];if(a=(i=impl$3.check(l,n)).valid,i.valid||(i=new RtvError(i.value,i.typeset,i.path.concat(print(l)),i.cause)),!a)break}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}}}if(!i)if(a)i=new RtvSuccess;else{var y=[t,type$4];i=new RtvError(e,type$4,[],r?y.concat(r):y)}return i}var valSet$1=Object.freeze({type:type$4,config:config$13,default:valSet}),config$14=function(e){};function valWeakSet(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qualifiers$1.REQUIRED;return isWeakSet$1(e)?new RtvSuccess:new RtvError(e,type$5,[],[t,type$5])}var valWeakSet$1=Object.freeze({type:type$5,config:config$14,default:valWeakSet}),rtv={t:types,q:qualifiers$1,check:function(e,t){return this.config.enabled?impl.check(e,t):new RtvSuccess},c:function(e,t){return this.check(e,t)},verify:function(e,t){if(this.config.enabled){var r=this.check(e,t);if(r instanceof RtvSuccess)return r;throw r}return new RtvSuccess},v:function(e,t){return this.verify(e,t)},config:Object.defineProperties({},{enabled:function(){var e=!0;return{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){rtv.verify(t,rtv.t.BOOLEAN),e=t}}}()}),get e(){return this.config.enabled},Context:function(e){}};Object.defineProperty(rtv,"_version",{enumerable:!1,configurable:!0,writable:!0,value:version}),function(){var e=[valAny$1,valBoolean$1,valString$1,valFunction$1,valRegExp$1,valSymbol$1,valFinite$1,valNumber$1,valArray$1,valAnyObject$1,valObject$1,valMap$1,valWeakMap$1,valSet$1,valWeakSet$1],t={};Object.keys(impl).forEach(function(e){t[e]=impl[e]}),e.forEach(function(e){e.config({impl:t}),impl._registerType(e)})}();export default rtv;
//# sourceMappingURL=rtv.esm.min.js.map
